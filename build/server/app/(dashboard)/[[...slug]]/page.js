(()=>{var e={};e.id=140,e.ids=[140],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},6158:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/marty/turing/4-module/4-sprint/match4paws/node_modules/@mui/material/esm/Box/Box.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/marty/turing/4-module/4-sprint/match4paws/node_modules/@mui/material/esm/Box/Box.js","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11042:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(65239),a=r(48088),n=r(88170),o=r.n(n),i=r(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let l={children:["",{children:["(dashboard)",{children:["[[...slug]]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,99846)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/[[...slug]]/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,57675)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,65315)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,48221)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/loading.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71564)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,54431)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67393)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/[[...slug]]/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/[[...slug]]/page",pathname:"/[[...slug]]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37067:e=>{"use strict";e.exports=require("node:http")},40916:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{HP:()=>x,IW:()=>d,JD:()=>u,R7:()=>g,US:()=>p,UT:()=>f,_L:()=>m,fz:()=>c,gm:()=>h,or:()=>l,zq:()=>i});var a=r(5069),n=r(15400),o=e([a]);async function i(e,t,r){let s=a.db.selectFrom("pets");e.type&&(s=s.where("pets.type","=",e.type)),e.gender&&(s=s.where("pets.gender","=",e.gender)),e.size&&(s=s.where("pets.size","=",e.size)),e.age&&(s=s.where("pets.ageGroup","=",e.age));let{count:o}=await s.clearSelect().select(e=>e.fn.countAll().as("count")).executeTakeFirstOrThrow();return{pets:await s.leftJoin("petImages as pi",e=>e.onRef("pi.petId","=","pets.id").on("pi.orderIdx","=",0)).offset((t-1)*r).limit(r).orderBy("pets.createdAt","desc").select(["pets.id","pets.name","pets.breed","pets.size","pets.ageGroup",(0,n.l)`pi.url`.as("imageUrl")]).execute(),totalCount:Number(o)}}async function d(e,t){let r=await a.db.selectFrom("pets").selectAll().where("id","=",e).where("ownerId","=",t).executeTakeFirst();if(!r)return null;let s=await a.db.selectFrom("petImages").select(["url","orderIdx"]).where("petId","=",e).orderBy("orderIdx","asc").execute();return{...r,images:s}}async function l(e){return await a.db.selectFrom("pets").where("pets.id","=",e).select(["id","name","ageGroup","breed","size","gender","description","ownerId"]).executeTakeFirst()||null}async function c(e){return a.db.selectFrom("petImages").where("petId","=",e).orderBy("orderIdx").select(["url"]).execute()}async function u(e){return await a.db.selectFrom("users").where("id","=",e).select(["name"]).executeTakeFirst()||null}async function p(e,t){return!!await a.db.selectFrom("favourites").select("petId").where("petId","=",e).where("userId","=",t).executeTakeFirst()}async function m(e,t){return(await a.db.insertInto("pets").values({ownerId:e,...t}).returning("id").executeTakeFirstOrThrow()).id}async function h(e){let t=await a.db.selectFrom("pets").select(["pets.id","pets.name","pets.type","pets.breed","pets.gender","pets.size","pets.ageGroup","pets.description","pets.status","pets.createdAt","pets.updatedAt"]).where("pets.ownerId","=",e).orderBy("pets.createdAt","desc").execute();return await Promise.all(t.map(async e=>({...e,images:await a.db.selectFrom("petImages").select(["url","orderIdx"]).where("petId","=",e.id).orderBy("orderIdx","asc").execute()})))}async function x(e,t,r){Object.keys(r).length&&await a.db.updateTable("pets").set({...r,updatedAt:new Date}).where("id","=",e).where("ownerId","=",t).execute()}async function g(e,t){await a.db.deleteFrom("petImages").where("petId","=",e).execute(),await a.db.deleteFrom("pets").where("id","=",e).where("ownerId","=",t).execute()}async function f(e,t){await a.db.deleteFrom("petImages").where("petId","=",e).execute(),t.length&&await a.db.insertInto("petImages").values(t.map((t,r)=>({petId:e,url:t,orderIdx:r}))).execute()}a=(o.then?(await o)():o)[0],s()}catch(e){s(e)}})},44708:e=>{"use strict";e.exports=require("node:https")},45087:(e,t,r)=>{"use strict";r.d(t,{default:()=>v});var s=r(60687);let a=({className:e=""})=>(0,s.jsx)("svg",{viewBox:"0 0 512 512",className:e,xmlns:"http://www.w3.org/2000/svg",transform:"rotate(-45)",children:(0,s.jsxs)("g",{fill:"currentColor",children:[(0,s.jsx)("path",{d:"M205.116,153.078c31.534,11.546,69.397-12.726,84.58-54.209c15.174-41.484,1.915-84.462-29.614-96.001 c-31.541-11.53-69.4,12.735-84.582,54.218C160.325,98.57,173.584,141.548,205.116,153.078z"}),(0,s.jsx)("path",{d:"M85.296,219.239c32.987-2.86,56.678-40.344,52.929-83.75c-3.757-43.391-33.545-76.253-66.532-73.409 c-32.984,2.869-56.674,40.36-52.921,83.759C22.53,189.23,52.313,222.091,85.296,219.239z"}),(0,s.jsx)("path",{d:"M342.196,217.768c28.952,17.017,70.552-0.073,92.926-38.154c22.374-38.106,17.041-82.758-11.915-99.774 c-28.951-17.001-70.56,0.097-92.93,38.178C307.905,156.117,313.245,200.768,342.196,217.768z"}),(0,s.jsx)("path",{d:"M497.259,262.912c-18.771-27.271-63.07-29.379-98.954-4.694c-35.892,24.701-49.762,66.822-30.996,94.101 c18.766,27.27,63.069,29.38,98.954,4.686C502.143,332.312,516.021,290.191,497.259,262.912z"}),(0,s.jsx)("path",{d:"M304.511,268.059c-3.58-24.773-18.766-47.366-43.039-58.824c-24.268-11.45-51.365-8.807-72.758,4.169 c-23.646,14.35-38.772,33.096-59.138,41.29c-20.363,8.193-77.4-16.209-112.912,48.278c-25.081,45.548-2.057,103.128,44.962,125.315 c35.738,16.864,64.023,14.981,84.788,24.774c20.762,9.793,37.29,32.83,73.025,49.692c47.018,22.188,106.1,3.362,125.315-44.957 c27.206-68.407-27.897-96.922-34.522-117.85C303.613,319.021,308.47,295.426,304.511,268.059z"})]})});var n=r(75515);let o=(0,r(23428).A)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var i=r(16189),d=r(49384);function l({to:e="/search",hidden:t,className:r,...a}){let n=(0,i.useRouter)();return t?null:(0,s.jsx)("button",{type:"button",onClick:()=>n.push(e),className:(0,d.A)("flex items-center justify-center w-9 h-9 rounded-full border border-gray-300","hover:bg-gray-50 active:bg-gray-100",r),...a,children:(0,s.jsx)(o,{fontSize:"small"})})}var c=r(85814),u=r.n(c),p=r(89106),m=r(30474),h=r(33955);function x(){return(0,s.jsxs)("section",{className:"relative w-full h-[50vh] flex items-center justify-center text-center",children:[(0,s.jsx)(m.default,{src:"/reksiukas.jpg",alt:"Happy adopted dog",fill:!0,priority:!0,className:"object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/40 to-black/70 z-10"}),(0,s.jsxs)("div",{className:"relative z-20 space-y-6 max-w-2xl mx-auto px-6",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-5xl font-bold tracking-wide text-white leading-tight drop-shadow-lg",children:"Find your perfect match"}),(0,s.jsx)("p",{className:"text-lg md:text-xl text-gray-100 drop-shadow select-none",children:"Browse hundreds of pets looking for loving homes or list your own pet for adoption."}),(0,s.jsx)("div",{className:"flex flex-col w-3/5 mx-auto sm:flex-row gap-3 justify-center",children:(0,s.jsx)(h.A,{children:(0,s.jsx)(u(),{href:"/search",children:"Browse pets"})})})]})]})}var g=r(43210),f=r(23975);function w({pets:e}){let t=(0,g.useMemo)(()=>e.slice(0,6),[e]);return t.length?(0,s.jsxs)("section",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,s.jsx)("h2",{className:"text-2xl md:text-3xl font-semibold mb-6 text-center",children:"Featured Pets"}),(0,s.jsx)("div",{className:"grid gap-4 md:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:t.map(e=>(0,s.jsx)(f.A,{id:e.id,name:e.name,age:e.ageGroup,breed:e.breed,size:e.size,imageUrl:e.imageUrl??void 0,isFavorite:!1},e.id))})]}):null}let b=[{icon:"\uD83D\uDCDD",title:"Create a profile",text:"Sign up and tell us about yourself or your pet."},{icon:"\uD83D\uDD0D",title:"Browse & chat",text:"Filter pets that fit your lifestyle and talk with owners securely."},{icon:"\uD83C\uDFE1",title:"Meet & adopt",text:"Schedule a meetup and give a pet a forever home."}];function y(){return(0,s.jsxs)("section",{className:"bg-gray-50 py-12 px-4",children:[(0,s.jsx)("h2",{className:"text-2xl md:text-3xl font-semibold text-center mb-10",children:"How it works"}),(0,s.jsx)("div",{className:"max-w-5xl mx-auto grid gap-8 md:grid-cols-3",children:b.map(e=>(0,s.jsxs)("div",{className:"text-center space-y-3 p-6 bg-white rounded-xl shadow-sm hover:shadow-md transition",children:[(0,s.jsx)("div",{className:"text-4xl select-none",children:e.icon}),(0,s.jsx)("h3",{className:"font-medium text-lg",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:e.text})]},e.title))})]})}function v({pets:e}){let t=(0,p.A)();return(0,s.jsxs)("div",{children:[(0,s.jsx)(n.default,{left:(0,s.jsx)(a,{className:"w-6 h-6 text-[#ed9426]"}),center:(0,s.jsx)("h1",{className:"text-lg font-semibold tracking-wide select-none",children:"Match4Paws"}),right:(0,s.jsx)("div",{className:"flex items-center gap-3",children:t?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l,{})}):(0,s.jsx)(u(),{href:"/auth/login",className:"text-[#ed9426] font-medium",children:"Log\xa0in"})})}),(0,s.jsx)(x,{}),(0,s.jsx)(w,{pets:e}),(0,s.jsx)(y,{})]})}},47954:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{S:()=>l,v:()=>i});var a=r(93109),n=r(24476),o=e([n]);async function i(){let e=await a.J.getSession();return e?.user||null}async function d(e){await (0,n.kg)(e)}async function l(e){return await Promise.all([d(e),(0,n.bx)(e)]),await (0,n.d$)(e)}n=(o.then?(await o)():o)[0],s()}catch(e){s(e)}})},55163:(e,t,r)=>{Promise.resolve().then(r.bind(r,6158)),Promise.resolve().then(r.bind(r,76883))},55511:e=>{"use strict";e.exports=require("crypto")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64939:e=>{"use strict";e.exports=import("pg")},76883:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/marty/turing/4-module/4-sprint/match4paws/src/components/homepage/Homepage.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/marty/turing/4-module/4-sprint/match4paws/src/components/homepage/Homepage.tsx","default")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},91955:(e,t,r)=>{Promise.resolve().then(r.bind(r,88931)),Promise.resolve().then(r.bind(r,45087))},99846:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>p,generateStaticParams:()=>u});var a=r(37413),n=r(39916),o=r(6158),i=r(47954),d=r(76883),l=r(40916),c=e([i,l]);function u(){return[{slug:[""]}]}async function p(){let e=await (0,i.v)(),{pets:t}=await (0,l.zq)({},1,4);return e&&(await (0,i.S)(e.sub)||(0,n.redirect)("/onboarding")),(0,a.jsx)(o.default,{sx:{pb:8},children:(0,a.jsx)(d.default,{pets:t})})}[i,l]=c.then?(await c)():c,s()}catch(e){s(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,420,326,367,8,929,986,474,794,763,97],()=>r(11042));module.exports=s})();