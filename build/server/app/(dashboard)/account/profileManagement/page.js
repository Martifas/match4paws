(()=>{var e={};e.id=279,e.ids=[279],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},6404:(e,t,r)=>{Promise.resolve().then(r.bind(r,85431))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},36338:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>u});var n=r(65239),o=r(48088),a=r(88170),s=r.n(a),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let u={children:["",{children:["(dashboard)",{children:["account",{children:["profileManagement",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,51493)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/account/profileManagement/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,57675)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,65315)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,48221)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/loading.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71564)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,54431)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67393)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/account/profileManagement/page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(dashboard)/account/profileManagement/page",pathname:"/account/profileManagement",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},51493:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(37413),o=r(80156);function a(){return(0,n.jsx)(o.default,{})}},53252:(e,t,r)=>{Promise.resolve().then(r.bind(r,80156))},55511:e=>{"use strict";e.exports=require("crypto")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},80156:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/marty/turing/4-module/4-sprint/match4paws/src/components/profile/ProfileManagement.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/marty/turing/4-module/4-sprint/match4paws/src/components/profile/ProfileManagement.tsx","default")},85431:(e,t,r)=>{"use strict";r.d(t,{default:()=>W});var n=r(60687),o=r(43210),a=r(88931),s=r(66803),i=r(60997),l=r(99282),u=r(72606),c=r(31324),d=r(99378);let p=function(e={}){let{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:n,open:a,resumeHideDuration:s}=e,i=(0,c.A)();o.useEffect(()=>{if(a)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key||n?.(e,"escapeKeyDown")}},[a,n]);let l=(0,u.A)((e,t)=>{n?.(e,t)}),p=(0,u.A)(e=>{n&&null!=e&&i.start(e,()=>{l(null,"timeout")})});o.useEffect(()=>(a&&p(t),i.clear),[a,t,p,i]);let m=i.clear,h=o.useCallback(()=>{null!=t&&p(null!=s?s:.5*t)},[t,s,p]),f=e=>t=>{let r=e.onBlur;r?.(t),h()},g=e=>t=>{let r=e.onFocus;r?.(t),m()},x=e=>t=>{let r=e.onMouseEnter;r?.(t),m()},v=e=>t=>{let r=e.onMouseLeave;r?.(t),h()};return o.useEffect(()=>{if(!r&&a)return window.addEventListener("focus",h),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",m)}},[r,a,h,m]),{getRootProps:(t={})=>{let r={...(0,d.A)(e),...(0,d.A)(t)};return{role:"presentation",...t,...r,onBlur:f(r),onFocus:g(r),onMouseEnter:x(r),onMouseLeave:v(r)}},onClickAway:e=>{n?.(e,"clickaway")}}};var m=r(6352),h=r(83662),f=r(76070);function g(e){return e.substring(2).toLowerCase()}function x(e){let{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:a,touchEvent:s="onTouchEnd"}=e,i=o.useRef(!1),l=o.useRef(null),c=o.useRef(!1),d=o.useRef(!1);o.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);let p=(0,h.A)((0,f.A)(t),l),x=(0,u.A)(e=>{let t,n=d.current;d.current=!1;let o=(0,m.A)(l.current);if(!(!c.current||!l.current||"clientX"in e&&(o.documentElement.clientWidth<e.clientX||o.documentElement.clientHeight<e.clientY))){if(i.current){i.current=!1;return}(e.composedPath?e.composedPath().includes(l.current):!o.documentElement.contains(e.target)||l.current.contains(e.target))||!r&&n||a(e)}}),v=e=>r=>{d.current=!0;let n=t.props[e];n&&n(r)},b={ref:p};return!1!==s&&(b[s]=v(s)),o.useEffect(()=>{if(!1!==s){let e=g(s),t=(0,m.A)(l.current),r=()=>{i.current=!0};return t.addEventListener(e,x),t.addEventListener("touchmove",r),()=>{t.removeEventListener(e,x),t.removeEventListener("touchmove",r)}}},[x,s]),!1!==n&&(b[n]=v(n)),o.useEffect(()=>{if(!1!==n){let e=g(n),t=(0,m.A)(l.current);return t.addEventListener(e,x),()=>{t.removeEventListener(e,x)}}},[x,n]),o.cloneElement(t,b)}var v=r(13555),b=r(21360),y=r(45258),w=r(84754),A=r(61543),k=r(97752),P=r(49384),C=r(2899),E=r(51067),j=r(4144),S=r(82816);function M(e){return(0,S.Ay)("MuiSnackbarContent",e)}(0,j.A)("MuiSnackbarContent",["root","message","action"]);let L=e=>{let{classes:t}=e;return(0,l.A)({root:["root"],action:["action"],message:["message"]},M,t)},O=(0,v.Ay)(E.A,{name:"MuiSnackbarContent",slot:"Root"})((0,y.A)(({theme:e})=>{let t="light"===e.palette.mode?.8:.98;return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText((0,C.tL)(e.palette.background.default,t)),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:(0,C.tL)(e.palette.background.default,t),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),q=(0,v.Ay)("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),T=(0,v.Ay)("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),R=o.forwardRef(function(e,t){let r=(0,w.b)({props:e,name:"MuiSnackbarContent"}),{action:o,className:a,message:s,role:i="alert",...l}=r,u=L(r);return(0,n.jsxs)(O,{role:i,elevation:6,className:(0,P.A)(u.root,a),ownerState:r,ref:t,...l,children:[(0,n.jsx)(q,{className:u.message,ownerState:r,children:s}),o?(0,n.jsx)(T,{className:u.action,ownerState:r,children:o}):null]})});function _(e){return(0,S.Ay)("MuiSnackbar",e)}(0,j.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var z=r(34414);let N=e=>{let{classes:t,anchorOrigin:r}=e,n={root:["root",`anchorOrigin${(0,A.A)(r.vertical)}${(0,A.A)(r.horizontal)}`]};return(0,l.A)(n,_,t)},I=(0,v.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`anchorOrigin${(0,A.A)(r.anchorOrigin.vertical)}${(0,A.A)(r.anchorOrigin.horizontal)}`]]}})((0,y.A)(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical,style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>"top"!==e.anchorOrigin.vertical,style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>"left"===e.anchorOrigin.horizontal,style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>"right"===e.anchorOrigin.horizontal,style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>"center"===e.anchorOrigin.horizontal,style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),G=o.forwardRef(function(e,t){let r=(0,w.b)({props:e,name:"MuiSnackbar"}),a=(0,b.A)(),s={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:l,horizontal:u}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:d,className:m,ClickAwayListenerProps:h,ContentProps:f,disableWindowBlurListener:g=!1,message:v,onBlur:y,onClose:A,onFocus:P,onMouseEnter:C,onMouseLeave:E,open:j,resumeHideDuration:S,slots:M={},slotProps:L={},TransitionComponent:O,transitionDuration:q=s,TransitionProps:{onEnter:T,onExited:_,...G}={},...B}=r,F={...r,anchorOrigin:{vertical:l,horizontal:u},autoHideDuration:c,disableWindowBlurListener:g,TransitionComponent:O,transitionDuration:q},D=N(F),{getRootProps:X,onClickAway:$}=p({...F}),[H,W]=o.useState(!0),K=e=>{W(!0),_&&_(e)},J=(e,t)=>{W(!1),T&&T(e,t)},Y={slots:{transition:O,...M},slotProps:{content:f,clickAwayListener:h,transition:G,...L}},[Z,Q]=(0,z.A)("root",{ref:t,className:[D.root,m],elementType:I,getSlotProps:X,externalForwardedProps:{...Y,...B},ownerState:F}),[U,{ownerState:V,...ee}]=(0,z.A)("clickAwayListener",{elementType:x,externalForwardedProps:Y,getSlotProps:e=>({onClickAway:(...t)=>{let r=t[0];e.onClickAway?.(...t),r?.defaultMuiPrevented||$(...t)}}),ownerState:F}),[et,er]=(0,z.A)("content",{elementType:R,shouldForwardComponentProp:!0,externalForwardedProps:Y,additionalProps:{message:v,action:i},ownerState:F}),[en,eo]=(0,z.A)("transition",{elementType:k.A,externalForwardedProps:Y,getSlotProps:e=>({onEnter:(...t)=>{e.onEnter?.(...t),J(...t)},onExited:(...t)=>{e.onExited?.(...t),K(...t)}}),additionalProps:{appear:!0,in:j,timeout:q,direction:"top"===l?"down":"up"},ownerState:F});return!j&&H?null:(0,n.jsx)(U,{...ee,...M.clickAwayListener&&{ownerState:V},children:(0,n.jsx)(Z,{...Q,children:(0,n.jsx)(en,{...eo,children:d||(0,n.jsx)(et,{...er})})})})});var B=r(41434),F=r(74605),D=r(32245),X=r(75515),$=r(61304),H=r(33955);function W(){let{user:e,isLoading:t}=(0,D.A)(),{fields:r,update:l,dirty:u,resetDirty:c}=function(e={name:"",phone:"",address:""}){let[t,r]=(0,o.useState)(e),[n,a]=(0,o.useState)(!1);return{fields:t,update:(0,o.useCallback)((e,t)=>{r(r=>({...r,[e]:t})),a(!0)},[]),dirty:n,resetDirty:()=>a(!1)}}((0,o.useMemo)(()=>({name:e?.name??"",phone:e?.phone??"",address:e?.address??""}),[e?.name,e?.phone,e?.address])),[d,p]=(0,o.useState)(!1),[m,h]=(0,o.useState)(null),f=async()=>{if(u){p(!0);try{if(!(await fetch("/api/user/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok)throw Error();h("ok"),c()}catch{h("err")}finally{p(!1)}}};return t||!e?(0,n.jsx)(a.default,{className:"flex justify-center py-20",children:(0,n.jsx)(s.default,{})}):(0,n.jsxs)(a.default,{className:"max-w-lg mx-auto px-4 pb-20 min-h-[90vh] flex flex-col",children:[(0,n.jsx)(X.default,{left:(0,n.jsx)($.default,{smartNavigation:!0}),center:(0,n.jsx)("h1",{className:"text-lg font-semibold",children:"My Profile"})}),(0,n.jsxs)(a.default,{component:"form",className:"flex flex-col gap-6 mt-6 flex-1",children:[(0,n.jsx)(i.A,{label:"Full Name",required:!0,value:r.name,onChange:e=>l("name",e.target.value)}),(0,n.jsx)(F.fD,{label:"Phone",required:!0,defaultCountry:"LT",value:r.phone,onChange:e=>l("phone",e)}),(0,n.jsx)(i.A,{label:"Address",multiline:!0,rows:2,value:r.address,onChange:e=>l("address",e.target.value),placeholder:"Street, City, ZIP"}),(0,n.jsx)(H.A,{disabled:d||!u||!r.name.trim()||!r.phone.trim(),onClick:f,children:d?"Saving…":"Save Changes"})]}),(0,n.jsx)(G,{open:null!==m,autoHideDuration:3e3,onClose:()=>h(null),children:"ok"===m?(0,n.jsx)(B.A,{severity:"success",sx:{width:"100%"},children:"Profile updated!"}):(0,n.jsx)(B.A,{severity:"error",sx:{width:"100%"},children:"Something went wrong."})})]})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[719,420,367,8,929,986,234,794,763,607],()=>r(36338));module.exports=n})();