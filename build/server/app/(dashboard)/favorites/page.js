(()=>{var e={};e.id=696,e.ids=[696],e.modules={1626:(e,t,r)=>{Promise.resolve().then(r.bind(r,42481)),Promise.resolve().then(r.bind(r,69210)),Promise.resolve().then(r.bind(r,24277))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12064:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(23428),o=r(60687);let n=(0,s.A)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},13941:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{Fy:()=>d,Gm:()=>a,U4:()=>l});var o=r(5069),n=r(15400),i=e([o]);async function a(e,t){await o.db.insertInto("favourites").values({userId:e,petId:t}).onConflict(e=>e.columns(["userId","petId"]).doNothing()).execute()}async function d(e,t){await o.db.deleteFrom("favourites").where("userId","=",e).where("petId","=",t).execute()}async function l(e){return await o.db.selectFrom("favourites as f").innerJoin("pets as p","p.id","f.petId").leftJoin("petImages as pi",e=>e.onRef("pi.petId","=","p.id").on("pi.orderIdx","=",0)).select(["p.id","p.name","p.ageGroup","p.breed","p.size",(0,n.l)`pi.url`.as("imageUrl"),"f.createdAt as favoritedAt"]).where("f.userId","=",e).orderBy("f.createdAt","desc").execute()}o=(i.then?(await i)():i)[0],s()}catch(e){s(e)}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},24277:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/marty/turing/4-module/4-sprint/match4paws/src/components/ui/containers/Header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/marty/turing/4-module/4-sprint/match4paws/src/components/ui/containers/Header.tsx","default")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35495:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(60687),o=r(43210),n=r(16189),i=r(23975),a=r(33955);function d({initialPets:e}){let t=(0,n.useRouter)(),[r,d]=(0,o.useState)(e),l=e=>{d(t=>t.filter(t=>t.id!==e))},u=t=>{let r=e.find(e=>e.id===t);r&&d(e=>e.some(e=>e.id===t)?e:[...e,r])};return(0,s.jsx)("div",{className:"max-w-xl mx-auto px-4",children:r.length>0?(0,s.jsx)("div",{className:"grid gap-3 md:gap-6 grid-cols-2 lg:grid-cols-3 py-6",children:r.map(e=>(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(i.A,{id:e.id,name:e.name,age:e.ageGroup,breed:e.breed,size:e.size,imageUrl:e.imageUrl,isFavorite:!0,onUnfavorited:l,onFavoriteRestored:u})},e.id))}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"mb-4 text-6xl",children:"\uD83D\uDC94"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No favorites yet"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Start exploring pets and add some to your favorites!"}),(0,s.jsx)(a.A,{onClick:()=>t.push("/search"),fullWidth:!1,className:"max-w-none w-auto",children:"Explore Pets"})]})})}},37067:e=>{"use strict";e.exports=require("node:http")},39418:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>m,dynamic:()=>h});var o=r(37413),n=r(93109),i=r(24476),a=r(13941),d=r(24277),l=r(69210),u=r(42481),c=r(39916),p=e([i,a]);[i,a]=p.then?(await p)():p;let h="force-dynamic";async function m(){let e=await n.J.getSession();e||(0,c.redirect)("/auth/login");let t=await (0,i.iU)(e.user.sub);t||(0,c.redirect)("/auth/login");let r=await (0,a.U4)(t.id);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.default,{left:(0,o.jsx)(l.default,{}),center:(0,o.jsx)("h1",{className:"text-lg font-semibold tracking-wide select-none",children:"My Favorites"})}),(0,o.jsx)(u.default,{initialPets:r})]})}s()}catch(e){s(e)}})},41794:(e,t,r)=>{Promise.resolve().then(r.bind(r,35495)),Promise.resolve().then(r.bind(r,61304)),Promise.resolve().then(r.bind(r,75515))},42481:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/marty/turing/4-module/4-sprint/match4paws/src/components/favorites/FavoritesList.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/marty/turing/4-module/4-sprint/match4paws/src/components/favorites/FavoritesList.tsx","default")},44708:e=>{"use strict";e.exports=require("node:https")},55511:e=>{"use strict";e.exports=require("crypto")},57975:e=>{"use strict";e.exports=require("node:util")},61304:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(60687),o=r(16189),n=r(12064),i=r(49384);function a({to:e,hidden:t,className:r,onClick:a,smartNavigation:d=!1,...l}){let u=(0,o.useRouter)(),c=(0,o.usePathname)();return t?null:(0,s.jsx)("button",{type:"button",onClick:()=>{a?a():e?u.push(e):d&&(document.referrer.includes("/favorites")||c.startsWith("/pet/"))?u.push("/favorites?refresh="+Date.now()):u.back()},className:(0,i.A)("text-[#ed9426] hover:text-orange-300 hover:scale-110 font-bold",r),...l,children:(0,s.jsx)(n.A,{fontSize:"large"})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64939:e=>{"use strict";e.exports=import("pg")},69210:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/marty/turing/4-module/4-sprint/match4paws/src/components/ui/buttons/BackButton.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/marty/turing/4-module/4-sprint/match4paws/src/components/ui/buttons/BackButton.tsx","default")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},81826:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>l});var s=r(65239),o=r(48088),n=r(88170),i=r.n(n),a=r(30893),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);r.d(t,d);let l={children:["",{children:["(dashboard)",{children:["favorites",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,39418)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/favorites/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,57675)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,65315)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,48221)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/loading.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71564)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,54431)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67393)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/favorites/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(dashboard)/favorites/page",pathname:"/favorites",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,420,326,367,8,929,986,474,794,763,97],()=>r(81826));module.exports=s})();