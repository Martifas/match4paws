(()=>{var e={};e.id=959,e.ids=[959],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14624:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(60687),a=r(16189),n=r(88931),o=r(24886),i=r(43210);function l(e){return"string"==typeof e?e:e.id}function d({items:e,selected:t,onChange:r,render:a,getId:n=l}){let o=e=>r(e);return(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map(e=>{let r=n(e),i=r===t;return(0,s.jsx)("button",{onClick:()=>o(i?null:r),className:["rounded-full border px-4 py-1 text-sm transition shadow-sm",i?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"].join(" "),children:a(e,i)},r)})})}var c=r(13262),u=r(23975),p=r(75515),h=r(61304);function m(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),{pets:r,totalPages:l,page:m,loading:x}=function(e,t=c.md){let r=Number(e.get("page")??1),[s,a]=(0,i.useState)([]),[n,o]=(0,i.useState)(0),[l,d]=(0,i.useState)(!0),[u,p]=(0,i.useState)(null);return{pets:s,page:r,totalPages:Math.max(1,Math.ceil(n/t)),loading:l,error:u}}(t),g=(r,s)=>{let a=new URLSearchParams(t.toString());s?a.set(r,s):a.delete(r),"page"!==r&&a.set("page","1"),e.replace(`/search?${a.toString()}`)};return(0,s.jsxs)("div",{className:"flex flex-col mx-auto",children:[(0,s.jsx)(p.default,{left:(0,s.jsx)(h.default,{smartNavigation:!0}),center:(0,s.jsx)("h1",{className:"text-lg font-semibold",children:"Search results"})}),(0,s.jsxs)(n.default,{className:"px-4 py-3 pb-5 space-y-3 max-w-3xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex gap-3 ",children:[(0,s.jsx)(d,{items:c.eM,selected:t.get("type"),onChange:e=>g("type",e),getId:e=>e.id.toLowerCase(),render:e=>e.label}),(0,s.jsx)(d,{items:c.j1,selected:t.get("age"),onChange:e=>g("age",e),render:e=>e.label})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(d,{items:c.nL,selected:t.get("gender"),onChange:e=>g("gender","any"===e?null:e),render:e=>e.label}),(0,s.jsx)(d,{items:c.F0,selected:t.get("size"),onChange:e=>g("size",e),render:e=>e.label})]})]}),l>1&&(0,s.jsx)(n.default,{className:"flex justify-center",children:(0,s.jsx)(o.A,{count:l,page:m,onChange:(e,t)=>g("page",String(t)),shape:"rounded"})}),x?(0,s.jsx)("p",{className:"text-center py-10",children:"Loadingâ€¦"}):r.length?(0,s.jsx)("div",{className:"max-w-3xl mx-auto px-4 pb-10",children:(0,s.jsx)("div",{className:"grid gap-4 md:gap-6 grid-cols-2 lg:grid-cols-3  py-6",children:r.map(e=>(0,s.jsx)(u.A,{id:e.id,name:e.name,age:e.ageGroup,breed:e.breed,size:e.size,imageUrl:e.imageUrl,isFavorite:e.isFavorite??!1},e.id))})}):(0,s.jsx)("p",{className:"text-center py-10 text-gray-500",children:"No pets match those filters yet."})]})}function x(){return(0,s.jsx)(m,{})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21976:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(60687),a=r(43210),n=r(42904);let o=(0,r(23428).A)((0,s.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorderOutlined");function i({petId:e,initiallyFav:t,onUnfavorited:r,onFavoriteRestored:i}){let[l,d]=(0,a.useState)(t),[c,u]=(0,a.useState)(!1),p=async t=>{t.preventDefault(),t.stopPropagation(),u(!0);let s=!l;d(s),!s&&r&&r(e);try{let t=await fetch("/api/favorites",{method:s?"POST":"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({petId:e})});if(!t.ok)throw Error(`API request failed: ${t.status}`)}catch(t){console.error("Failed to update favorite:",t),d(l),!s&&i&&i(e)}finally{u(!1)}};return(0,s.jsx)("button",{onClick:p,disabled:c,className:`
        p-2 rounded-full transition-all duration-200 z-10 relative
        ${c?"opacity-50 cursor-not-allowed":"hover:scale-105"}
        ${!c?"hover:bg-orange-200":""}
      `,style:{color:"#ed9426",backgroundColor:l?"rgba(237, 148, 38, 0.15)":"transparent"},onMouseEnter:e=>{c||(e.currentTarget.style.backgroundColor="rgba(237, 148, 38, 0.3)")},onMouseLeave:e=>{c||(e.currentTarget.style.backgroundColor=l?"rgba(237, 148, 38, 0.15)":"transparent")},"aria-label":l?"Remove from favorites":"Add to favorites",children:l?(0,s.jsx)(n.A,{}):(0,s.jsx)(o,{})})}},23975:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(60687),a=r(85814),n=r.n(a),o=r(30474),i=r(21976);function l({id:e,name:t,imageUrl:r,isFavorite:a=!1,onUnfavorited:l,onFavoriteRestored:d}){return(0,s.jsxs)("div",{className:"relative block overflow-hidden hover:opacity-80",children:[(0,s.jsxs)(n(),{href:`/pet/${e}`,children:[r&&(0,s.jsx)(o.default,{src:r,alt:t,width:400,height:300,className:"md:h-48 h-38 w-full object-cover rounded-xl"}),(0,s.jsx)("div",{className:"p-4 space-y-1",children:(0,s.jsx)("h3",{className:"font-semibold text-lg",children:t})})]}),(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsx)(i.default,{petId:e,initiallyFav:a,onUnfavorited:l,onFavoriteRestored:d})})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29980:(e,t,r)=>{Promise.resolve().then(r.bind(r,14624))},33873:e=>{"use strict";e.exports=require("path")},37067:e=>{"use strict";e.exports=require("node:http")},41951:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/marty/turing/4-module/4-sprint/match4paws/src/app/search/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/marty/turing/4-module/4-sprint/match4paws/src/app/search/page.tsx","default")},44708:e=>{"use strict";e.exports=require("node:https")},55511:e=>{"use strict";e.exports=require("crypto")},57975:e=>{"use strict";e.exports=require("node:util")},61304:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(60687),a=r(16189),n=r(12064),o=r(49384);function i({to:e,hidden:t,className:r,onClick:i,smartNavigation:l=!1,...d}){let c=(0,a.useRouter)(),u=(0,a.usePathname)();return t?null:(0,s.jsx)("button",{type:"button",onClick:()=>{i?i():e?c.push(e):l&&(document.referrer.includes("/favorites")||u.startsWith("/pet/"))?c.push("/favorites?refresh="+Date.now()):c.back()},className:(0,o.A)("text-[#ed9426] hover:text-orange-300 hover:scale-110 font-bold",r),...d,children:(0,s.jsx)(n.A,{fontSize:"large"})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71836:(e,t,r)=>{Promise.resolve().then(r.bind(r,41951))},75515:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(60687);function a({left:e,center:t,right:r,children:a}){return(0,s.jsx)("header",{className:"w-full max-w-md mx-auto  md:max-w-xl py-2 flex items-center justify-between gap-4",children:a||(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:e}),(0,s.jsx)("div",{className:"flex-1 text-center overflow-hidden",children:t}),(0,s.jsx)("div",{className:"flex-shrink-0",children:r})]})})}r(43210)},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},91972:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),a=r(48088),n=r(88170),o=r.n(n),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,41951)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/search/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,93432)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/search/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71564)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,54431)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67393)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/home/marty/turing/4-module/4-sprint/match4paws/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/marty/turing/4-module/4-sprint/match4paws/src/app/search/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},93432:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(37413),a=r(88569),n=r(83236);function o({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)("main",{className:"flex-1",children:e}),(0,s.jsx)(n.default,{alwaysSticky:!0,children:(0,s.jsx)(a.default,{})})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,420,367,8,929,986,474,101,794,763],()=>r(91972));module.exports=s})();