exports.id=97,exports.ids=[97],exports.modules={163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=r(71042).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5069:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{db:()=>c}),r(95710);var o=r(98614),a=r(40586),i=r(30650),l=r(64939),s=e([l]);let u=new(l=(s.then?(await s)():s)[0]).Pool({connectionString:process.env.DATABASE_URL}),d=new o.a({pool:u}),c=new a._$({dialect:d,plugins:[new i.E]});n()}catch(e){n(e)}})},21976:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(60687),o=r(43210),a=r(42904);let i=(0,r(23428).A)((0,n.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorderOutlined");function l({petId:e,initiallyFav:t,onUnfavorited:r,onFavoriteRestored:l}){let[s,u]=(0,o.useState)(t),[d,c]=(0,o.useState)(!1),f=async t=>{t.preventDefault(),t.stopPropagation(),c(!0);let n=!s;u(n),!n&&r&&r(e);try{let t=await fetch("/api/favorites",{method:n?"POST":"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({petId:e})});if(!t.ok)throw Error(`API request failed: ${t.status}`)}catch(t){console.error("Failed to update favorite:",t),u(s),!n&&l&&l(e)}finally{c(!1)}};return(0,n.jsx)("button",{onClick:f,disabled:d,className:`
        p-2 rounded-full transition-all duration-200 z-10 relative
        ${d?"opacity-50 cursor-not-allowed":"hover:scale-105"}
        ${!d?"hover:bg-orange-200":""}
      `,style:{color:"#ed9426",backgroundColor:s?"rgba(237, 148, 38, 0.15)":"transparent"},onMouseEnter:e=>{d||(e.currentTarget.style.backgroundColor="rgba(237, 148, 38, 0.3)")},onMouseLeave:e=>{d||(e.currentTarget.style.backgroundColor=s?"rgba(237, 148, 38, 0.15)":"transparent")},"aria-label":s?"Remove from favorites":"Add to favorites",children:s?(0,n.jsx)(a.A,{}):(0,n.jsx)(i,{})})}},23975:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(60687),o=r(85814),a=r.n(o),i=r(30474),l=r(21976);function s({id:e,name:t,imageUrl:r,isFavorite:o=!1,onUnfavorited:s,onFavoriteRestored:u}){return(0,n.jsxs)("div",{className:"relative block overflow-hidden hover:opacity-80",children:[(0,n.jsxs)(a(),{href:`/pet/${e}`,children:[r&&(0,n.jsx)(i.default,{src:r,alt:t,width:400,height:300,className:"md:h-48 h-38 w-full object-cover rounded-xl"}),(0,n.jsx)("div",{className:"p-4 space-y-1",children:(0,n.jsx)("h3",{className:"font-semibold text-lg",children:t})})]}),(0,n.jsx)("div",{className:"absolute top-2 right-2",children:(0,n.jsx)(l.default,{petId:e,initiallyFav:o,onUnfavorited:s,onFavoriteRestored:u})})]})}},24476:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{bx:()=>u,ce:()=>c,d$:()=>d,eg:()=>f,iU:()=>i,kg:()=>s,kl:()=>l});var o=r(5069),a=e([o]);async function i(e){return await o.db.selectFrom("users").select(["id"]).where("auth0Id","=",e).executeTakeFirst()||null}async function l(e){return await o.db.selectFrom("users").selectAll().where("id","=",e).executeTakeFirst()||null}async function s(e){await o.db.insertInto("users").values({auth0Id:e}).onConflict(e=>e.column("auth0Id").doNothing()).execute()}async function u(e){await o.db.updateTable("users").set({lastLoginAt:new Date}).where("auth0Id","=",e).execute()}async function d(e){let t=await o.db.selectFrom("users").select(["onboardingCompleted"]).where("auth0Id","=",e).executeTakeFirst();return t?.onboardingCompleted??!1}async function c(e){let{userId:t,...r}=e;await o.db.updateTable("users").set({onboardingCompleted:!0,onboardingCompletedAt:new Date,...r}).where("auth0Id","=",t).execute()}async function f(e,t){Object.keys(t).length&&await o.db.updateTable("users").set({...t}).where("id","=",e).execute()}o=(a.then?(await a)():a)[0],n()}catch(e){n(e)}})},26595:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},38832:(e,t,r)=>{Promise.resolve().then(r.bind(r,65315))},39916:(e,t,r)=>{"use strict";var n=r(97576);r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}})},42249:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(60687);r(43210);var o=r(85814),a=r.n(o);function i({error:e,reset:t}){return(0,n.jsx)("div",{className:"min-h-[400px] flex items-center justify-center",children:(0,n.jsxs)("div",{className:"max-w-md w-full bg-white border border-gray-200 rounded-lg p-6 text-center",children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("div",{className:"mx-auto flex items-center justify-center h-10 w-10 rounded-full bg-red-100",children:(0,n.jsx)("svg",{className:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Dashboard Error"}),(0,n.jsx)("p",{className:"text-gray-600 mb-4",children:"Something went wrong while loading your dashboard content."}),!1,(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("button",{onClick:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-3 rounded-md transition-colors text-sm",children:"Retry Dashboard"}),(0,n.jsx)(a(),{href:"/dashboard",className:"block w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-2 px-3 rounded-md transition-colors text-sm",children:"Refresh Dashboard"})]})]})})}},48221:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(37413),o=r(38735);let a=function(){return(0,n.jsx)(o.A,{})}},48560:(e,t,r)=>{Promise.resolve().then(r.bind(r,42249))},57675:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(37413),o=r(88569),a=r(83236);function i({children:e}){return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,n.jsx)("main",{className:"flex-1",children:e}),(0,n.jsx)(a.default,{alwaysSticky:!0,children:(0,n.jsx)(o.default,{})})]})}},62765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return o}});let n=""+r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function o(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},65315:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/marty/turing/4-module/4-sprint/match4paws/src/app/(dashboard)/error.tsx","default")},70899:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},71042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,i.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,s.isDynamicServerError)(t)||(0,l.isDynamicPostpone)(t)||(0,o.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(68388),o=r(52637),a=r(51846),i=r(31162),l=r(84971),s=r(98479);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},75515:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(60687);function o({left:e,center:t,right:r,children:o}){return(0,n.jsx)("header",{className:"w-full max-w-md mx-auto  md:max-w-xl py-2 flex items-center justify-between gap-4",children:o||(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:e}),(0,n.jsx)("div",{className:"flex-1 text-center overflow-hidden",children:t}),(0,n.jsx)("div",{className:"flex-shrink-0",children:r})]})})}r(43210)},86897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return i},getRedirectStatusCodeFromError:function(){return c},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return u},permanentRedirect:function(){return s},redirect:function(){return l}});let n=r(52836),o=r(49026),a=r(19121).actionAsyncStorage;function i(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let a=Object.defineProperty(Error(o.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a.digest=o.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",a}function l(e,t){var r;throw null!=t||(t=(null==a||null==(r=a.getStore())?void 0:r.isAction)?o.RedirectType.push:o.RedirectType.replace),i(e,t,n.RedirectStatusCode.TemporaryRedirect)}function s(e,t){throw void 0===t&&(t=o.RedirectType.replace),i(e,t,n.RedirectStatusCode.PermanentRedirect)}function u(e){return(0,o.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function d(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function c(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},97576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return o.RedirectType},forbidden:function(){return i.forbidden},notFound:function(){return a.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return l.unauthorized},unstable_rethrow:function(){return s.unstable_rethrow}});let n=r(86897),o=r(49026),a=r(62765),i=r(26595),l=r(70899),s=r(163);class u extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new u}delete(){throw new u}set(){throw new u}sort(){throw new u}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};