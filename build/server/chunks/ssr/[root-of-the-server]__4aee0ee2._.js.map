{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/containers/Header.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/containers/Header.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/containers/Header.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA2S,GACxU,yEACA","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/containers/Header.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/containers/Header.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/containers/Header.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuR,GACpT,qDACA","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/buttons/BackButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/buttons/BackButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/buttons/BackButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/buttons/BackButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/buttons/BackButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/buttons/BackButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAwR,GACrT,sDACA","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/pet/PetCarousel.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/pet/PetCarousel.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/pet/PetCarousel.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/pet/PetCarousel.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/pet/PetCarousel.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/pet/PetCarousel.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/pet/StatBadge.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/pet/StatBadge.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/pet/StatBadge.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/pet/StatBadge.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/pet/StatBadge.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/pet/StatBadge.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","debugId":null}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/containers/BottomBar.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/containers/BottomBar.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/containers/BottomBar.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8S,GAC3U,4EACA","debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/containers/BottomBar.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/containers/BottomBar.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/containers/BottomBar.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA0R,GACvT,wDACA","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/buttons/FavoriteButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/buttons/FavoriteButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/buttons/FavoriteButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgT,GAC7U,8EACA","debugId":null}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/buttons/FavoriteButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/buttons/FavoriteButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/buttons/FavoriteButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4R,GACzT,0DACA","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/buttons/PrimaryButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/buttons/PrimaryButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/buttons/PrimaryButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA+S,GAC5U,6EACA","debugId":null}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/buttons/PrimaryButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/buttons/PrimaryButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/buttons/PrimaryButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA2R,GACxT,yDACA","debugId":null}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/lib/db.ts"],"sourcesContent":["import \"dotenv/config\";\nimport { Kysely, PostgresDialect, CamelCasePlugin } from \"kysely\";\nimport { Pool } from \"pg\";\nimport { DB } from \"@/database/types\";\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n});\n\nconst dialect = new PostgresDialect({ pool });\n\nexport const db = new Kysely<DB>({\n  dialect,\n  plugins: [new CamelCasePlugin()],\n});\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;AAAA;AACA;;;;;;;;AAGA,MAAM,OAAO,IAAI,oGAAA,CAAA,OAAI,CAAC;IACpB,kBAAkB,QAAQ,GAAG,CAAC,YAAY;AAC5C;AAEA,MAAM,UAAU,IAAI,mLAAA,CAAA,kBAAe,CAAC;IAAE;AAAK;AAEpC,MAAM,KAAK,IAAI,+IAAA,CAAA,SAAM,CAAK;IAC/B;IACA,SAAS;QAAC,IAAI,2LAAA,CAAA,kBAAe;KAAG;AAClC","debugId":null}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/lib/queries/pets.ts"],"sourcesContent":["import { db } from \"@/lib/db\";\nimport { sql } from \"kysely\";\n\nexport type PetFilters = {\n  type?: string;\n  gender?: string;\n  size?: string;\n  age?: string;\n};\n\nexport type PetSearchResult = {\n  id: string;\n  name: string;\n  ageGroup: string;\n  breed: string | null;\n  size: string;\n  imageUrl: string | null;\n  isFavorite: boolean;\n};\n\nexport async function searchPets(\n  filters: PetFilters\n): Promise<PetSearchResult[]> {\n  let q = db\n    .selectFrom(\"pets\")\n    .select(({ ref }) => [\n      \"pets.id\",\n      \"pets.name\",\n      ref(\"pets.ageGroup\").as(\"ageGroup\"),\n      \"pets.breed\",\n      \"pets.size\",\n      sql<string>`pi.url`.as(\"imageUrl\"),\n      sql<boolean>`CASE WHEN f.pet_id IS NOT NULL THEN true ELSE false END`.as(\n        \"isFavorite\"\n      ),\n    ])\n    .leftJoin(\"petImages as pi\", (j) =>\n      j.onRef(\"pi.petId\", \"=\", \"pets.id\").on(\"pi.orderIdx\", \"=\", 0)\n    )\n    .leftJoin(\"favourites as f\", \"f.petId\", \"pets.id\")\n    .limit(20);\n\n  if (filters.type) q = q.where(\"pets.type\", \"=\", filters.type);\n  if (filters.gender) q = q.where(\"pets.gender\", \"=\", filters.gender);\n  if (filters.size) q = q.where(\"pets.size\", \"=\", filters.size);\n  if (filters.age) q = q.where(\"pets.ageGroup\", \"=\", filters.age);\n\n  return await q.execute();\n}\n\nexport type PetDetails = {\n  id: string;\n  name: string;\n  ageGroup: string;\n  breed: string | null;\n  size: string;\n  gender: string;\n  description: string | null;\n  ownerId: string;\n};\n\nexport type PetPhoto = {\n  url: string;\n};\n\nexport type PetOwner = {\n  name: string;\n};\n\nexport async function getPetById(id: string): Promise<PetDetails | null> {\n  return (\n    (await db\n      .selectFrom(\"pets\")\n      .where(\"pets.id\", \"=\", id)\n      .select([\n        \"id\",\n        \"name\",\n        \"ageGroup\",\n        \"breed\",\n        \"size\",\n        \"gender\",\n        \"description\",\n        \"ownerId\",\n      ])\n      .executeTakeFirst()) || null\n  );\n}\n\nexport async function getPetPhotos(petId: string): Promise<PetPhoto[]> {\n  return await db\n    .selectFrom(\"petImages\")\n    .where(\"petId\", \"=\", petId)\n    .orderBy(\"orderIdx\")\n    .select([\"url\"])\n    .execute();\n}\n\nexport async function getPetOwner(ownerId: string): Promise<PetOwner | null> {\n  return (\n    (await db\n      .selectFrom(\"users\")\n      .where(\"id\", \"=\", ownerId)\n      .select([\"name\"])\n      .executeTakeFirst()) || null\n  );\n}\n\nexport async function isPetFavorited(\n  petId: string,\n  userId: string\n): Promise<boolean> {\n  const result = await db\n    .selectFrom(\"favourites\")\n    .select(\"petId\")\n    .where(\"petId\", \"=\", petId)\n    .where(\"userId\", \"=\", userId)\n    .executeTakeFirst();\n\n  return !!result;\n}\n\ntype CreatePetData = {\n  name: string;\n  type: string;\n  breed?: string | null;\n  gender: string;\n  size: string;\n  ageGroup: string;\n  description?: string | null;\n};\n\ntype UpdatePetData = CreatePetData & {\n  status?: string;\n};\n\nexport async function createPet(\n  ownerId: string,\n  petData: CreatePetData\n): Promise<string> {\n  const result = await db\n    .insertInto(\"pets\")\n    .values({\n      ownerId,\n      ...petData,\n    })\n    .returning(\"id\")\n    .executeTakeFirstOrThrow();\n\n  return result.id;\n}\n\nexport async function getUserPets(userId: string) {\n  const pets = await db\n    .selectFrom(\"pets\")\n    .select([\n      \"pets.id\",\n      \"pets.name\",\n      \"pets.type\",\n      \"pets.breed\",\n      \"pets.gender\",\n      \"pets.size\",\n      \"pets.ageGroup\",\n      \"pets.description\",\n      \"pets.status\",\n      \"pets.createdAt\",\n      \"pets.updatedAt\",\n    ])\n    .where(\"pets.ownerId\", \"=\", userId)\n    .orderBy(\"pets.createdAt\", \"desc\")\n    .execute();\n\n  const petsWithImages = await Promise.all(\n    pets.map(async (pet) => {\n      const images = await db\n        .selectFrom(\"petImages\")\n        .select([\"url\", \"orderIdx\"])\n        .where(\"petId\", \"=\", pet.id)\n        .orderBy(\"orderIdx\", \"asc\")\n        .execute();\n\n      return {\n        ...pet,\n        images,\n      };\n    })\n  );\n\n  return petsWithImages;\n}\n\nexport async function getPetByIdForOwner(petId: string, userId: string) {\n  const pet = await db\n    .selectFrom(\"pets\")\n    .selectAll()\n    .where(\"pets.id\", \"=\", petId)\n    .where(\"pets.ownerId\", \"=\", userId)\n    .executeTakeFirst();\n\n  if (!pet) {\n    return null;\n  }\n\n  const images = await db\n    .selectFrom(\"petImages\")\n    .select([\"url\", \"orderIdx\"])\n    .where(\"petId\", \"=\", petId)\n    .orderBy(\"orderIdx\", \"asc\")\n    .execute();\n\n  return {\n    ...pet,\n    images,\n  };\n}\n\nexport async function updatePet(\n  petId: string,\n  userId: string,\n  petData: UpdatePetData\n) {\n  await db\n    .updateTable(\"pets\")\n    .set({\n      ...petData,\n      updatedAt: new Date(),\n    })\n    .where(\"id\", \"=\", petId)\n    .where(\"ownerId\", \"=\", userId)\n    .execute();\n}\n\nexport async function deletePet(petId: string, userId: string) {\n  await db.deleteFrom(\"petImages\").where(\"petId\", \"=\", petId).execute();\n\n  await db\n    .deleteFrom(\"pets\")\n    .where(\"id\", \"=\", petId)\n    .where(\"ownerId\", \"=\", userId)\n    .execute();\n}\n\nexport async function savePetImageUrls(petId: string, imageUrls: string[]) {\n  await db.deleteFrom(\"petImages\").where(\"petId\", \"=\", petId).execute();\n\n  if (imageUrls.length > 0) {\n    const imageRecords = imageUrls.map((url, index) => ({\n      petId: petId,\n      url: url,\n      orderIdx: index,\n    }));\n\n    await db.insertInto(\"petImages\").values(imageRecords).execute();\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 490, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/lib/queries/users.ts"],"sourcesContent":["import { db } from \"@/lib/db\";\nimport { UpdateOnboardingRequest } from \"@/lib/types/onboarding\";\n\nexport type User = {\n  id: string;\n  auth0Id: string;\n  name?: string;\n  email?: string;\n  phone?: string;\n  gender?: string;\n  userType?: string;\n  onboardingCompleted: boolean;\n  createdAt: Date;\n  lastLoginAt?: Date;\n};\n\nexport async function getUserByAuth0Id(\n  auth0Id: string\n): Promise<{ id: string } | null> {\n  return (\n    (await db\n      .selectFrom(\"users\")\n      .select([\"id\"])\n      .where(\"auth0Id\", \"=\", auth0Id)\n      .executeTakeFirst()) || null\n  );\n}\n\nexport async function getUserById(id: string): Promise<User | null> {\n  return (\n    (await db\n      .selectFrom(\"users\")\n      .selectAll()\n      .where(\"id\", \"=\", id)\n      .executeTakeFirst()) || null\n  );\n}\n\nexport async function createUser(auth0Id: string): Promise<void> {\n  await db\n    .insertInto(\"users\")\n    .values({ auth0Id })\n    .onConflict((oc) => oc.column(\"auth0Id\").doNothing())\n    .execute();\n}\n\nexport async function updateLastLogin(auth0Id: string): Promise<void> {\n  await db\n    .updateTable(\"users\")\n    .set({ lastLoginAt: new Date() })\n    .where(\"auth0Id\", \"=\", auth0Id)\n    .execute();\n}\n\nexport async function getUserOnboardingStatus(\n  auth0Id: string\n): Promise<boolean> {\n  const result = await db\n    .selectFrom(\"users\")\n    .select([\"onboardingCompleted\"])\n    .where(\"auth0Id\", \"=\", auth0Id)\n    .executeTakeFirst();\n\n  return result?.onboardingCompleted ?? false;\n}\n\nexport async function updateUserOnboarding(\n  data: UpdateOnboardingRequest\n): Promise<void> {\n  const { userId, ...updateData } = data;\n\n  await db\n    .updateTable(\"users\")\n    .set({\n      onboardingCompleted: true,\n      onboardingCompletedAt: new Date(),\n      ...updateData,\n\n      preferredAnimalTypes: updateData.preferredAnimalTypes\n        ? JSON.stringify(updateData.preferredAnimalTypes)\n        : undefined,\n    })\n    .where(\"auth0Id\", \"=\", userId)\n    .execute();\n}\n\nexport async function updateUserProfile(\n  userId: string,\n  updates: Partial<Pick<User, \"name\" | \"email\" | \"phone\" | \"gender\">>\n): Promise<void> {\n  await db.updateTable(\"users\").set(updates).where(\"id\", \"=\", userId).execute();\n}\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAgBO,eAAe,iBACpB,OAAe;IAEf,OACE,AAAC,MAAM,gHAAA,CAAA,KAAE,CACN,UAAU,CAAC,SACX,MAAM,CAAC;QAAC;KAAK,EACb,KAAK,CAAC,WAAW,KAAK,SACtB,gBAAgB,MAAO;AAE9B;AAEO,eAAe,YAAY,EAAU;IAC1C,OACE,AAAC,MAAM,gHAAA,CAAA,KAAE,CACN,UAAU,CAAC,SACX,SAAS,GACT,KAAK,CAAC,MAAM,KAAK,IACjB,gBAAgB,MAAO;AAE9B;AAEO,eAAe,WAAW,OAAe;IAC9C,MAAM,gHAAA,CAAA,KAAE,CACL,UAAU,CAAC,SACX,MAAM,CAAC;QAAE;IAAQ,GACjB,UAAU,CAAC,CAAC,KAAO,GAAG,MAAM,CAAC,WAAW,SAAS,IACjD,OAAO;AACZ;AAEO,eAAe,gBAAgB,OAAe;IACnD,MAAM,gHAAA,CAAA,KAAE,CACL,WAAW,CAAC,SACZ,GAAG,CAAC;QAAE,aAAa,IAAI;IAAO,GAC9B,KAAK,CAAC,WAAW,KAAK,SACtB,OAAO;AACZ;AAEO,eAAe,wBACpB,OAAe;IAEf,MAAM,SAAS,MAAM,gHAAA,CAAA,KAAE,CACpB,UAAU,CAAC,SACX,MAAM,CAAC;QAAC;KAAsB,EAC9B,KAAK,CAAC,WAAW,KAAK,SACtB,gBAAgB;IAEnB,OAAO,QAAQ,uBAAuB;AACxC;AAEO,eAAe,qBACpB,IAA6B;IAE7B,MAAM,EAAE,MAAM,EAAE,GAAG,YAAY,GAAG;IAElC,MAAM,gHAAA,CAAA,KAAE,CACL,WAAW,CAAC,SACZ,GAAG,CAAC;QACH,qBAAqB;QACrB,uBAAuB,IAAI;QAC3B,GAAG,UAAU;QAEb,sBAAsB,WAAW,oBAAoB,GACjD,KAAK,SAAS,CAAC,WAAW,oBAAoB,IAC9C;IACN,GACC,KAAK,CAAC,WAAW,KAAK,QACtB,OAAO;AACZ;AAEO,eAAe,kBACpB,MAAc,EACd,OAAmE;IAEnE,MAAM,gHAAA,CAAA,KAAE,CAAC,WAAW,CAAC,SAAS,GAAG,CAAC,SAAS,KAAK,CAAC,MAAM,KAAK,QAAQ,OAAO;AAC7E","debugId":null}},
    {"offset": {"line": 548, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/pet/PetInfo.tsx"],"sourcesContent":["import Header from \"@/components/ui/containers/Header\";\nimport BackButton from \"@/components/ui/buttons/BackButton\";\nimport PetCarousel from \"@/components/pet/PetCarousel\";\nimport StatBadge from \"@/components/pet/StatBadge\";\nimport BottomBar from \"../ui/containers/BottomBar\";\nimport FavoriteButton from \"../ui/buttons/FavoriteButton\";\nimport PrimaryButton from \"../ui/buttons/PrimaryButton\";\nimport { auth0 } from \"@/lib/auth0\";\nimport {\n  getPetById,\n  getPetPhotos,\n  getPetOwner,\n  isPetFavorited,\n} from \"@/lib/queries/pets\";\nimport { getUserByAuth0Id } from \"@/lib/queries/users\";\n\nexport default async function PetInfo({ id }: { id: string }) {\n  const pet = await getPetById(id);\n\n  if (!pet) return <p className=\"p-6\">Pet not found.</p>;\n\n  const [photos, owner] = await Promise.all([\n    getPetPhotos(id),\n    getPetOwner(pet.ownerId),\n  ]);\n\n  const session = await auth0.getSession();\n  let initiallyFav = false;\n\n  if (session) {\n    const user = await getUserByAuth0Id(session.user.sub);\n    if (user) {\n      initiallyFav = await isPetFavorited(id, user.id);\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col h-screen bg-white\">\n      <div className=\"flex flex-col h-1/2 max-h-[50vh] flex-shrink-0\">\n        <Header\n          left={<BackButton smartNavigation />}\n          center={<h1 className=\"text-lg font-semibold\">Pet Details</h1>}\n        />\n\n        <div className=\"flex-1 min-h-0\">\n          <PetCarousel photos={photos} alt={pet.name} className=\"h-full\" />\n        </div>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto flex flex-col gap-4 px-4 py-3 max-w-xl mx-auto w-full\">\n        <div>\n          <span className=\"font-bold text-lg pr-1\">{pet.name}</span>\n          <span className=\"text-gray-500\">({pet.breed})</span>\n        </div>\n\n        <div className=\"flex justify-between gap-4\">\n          <StatBadge label=\"Gender\" value={pet.gender} color=\"red\" />\n          <StatBadge label=\"Age\" value={pet.ageGroup} color=\"blue\" />\n          <StatBadge label=\"Size\" value={pet.size} color=\"green\" />\n        </div>\n\n        {owner && (\n          <p className=\"text-gray-600\">\n            Posted by <span className=\"font-bold\">{owner.name}</span>\n          </p>\n        )}\n\n        {pet.description && <p>{pet.description}</p>}\n      </div>\n\n      <BottomBar alwaysSticky>\n        <FavoriteButton petId={id} initiallyFav={initiallyFav} />\n        <PrimaryButton>Adopt</PrimaryButton>\n      </BottomBar>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;;;;;;;;;;;;;;;;;AAEe,eAAe,QAAQ,EAAE,EAAE,EAAkB;IAC1D,MAAM,MAAM,MAAM,CAAA,GAAA,6HAAA,CAAA,aAAU,AAAD,EAAE;IAE7B,IAAI,CAAC,KAAK,qBAAO,8OAAC;QAAE,WAAU;kBAAM;;;;;;IAEpC,MAAM,CAAC,QAAQ,MAAM,GAAG,MAAM,QAAQ,GAAG,CAAC;QACxC,CAAA,GAAA,6HAAA,CAAA,eAAY,AAAD,EAAE;QACb,CAAA,GAAA,6HAAA,CAAA,cAAW,AAAD,EAAE,IAAI,OAAO;KACxB;IAED,MAAM,UAAU,MAAM,mHAAA,CAAA,QAAK,CAAC,UAAU;IACtC,IAAI,eAAe;IAEnB,IAAI,SAAS;QACX,MAAM,OAAO,MAAM,CAAA,GAAA,8HAAA,CAAA,mBAAgB,AAAD,EAAE,QAAQ,IAAI,CAAC,GAAG;QACpD,IAAI,MAAM;YACR,eAAe,MAAM,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE,IAAI,KAAK,EAAE;QACjD;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,gJAAA,CAAA,UAAM;wBACL,oBAAM,8OAAC,iJAAA,CAAA,UAAU;4BAAC,eAAe;;;;;;wBACjC,sBAAQ,8OAAC;4BAAG,WAAU;sCAAwB;;;;;;;;;;;kCAGhD,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,wIAAA,CAAA,UAAW;4BAAC,QAAQ;4BAAQ,KAAK,IAAI,IAAI;4BAAE,WAAU;;;;;;;;;;;;;;;;;0BAI1D,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAK,WAAU;0CAA0B,IAAI,IAAI;;;;;;0CAClD,8OAAC;gCAAK,WAAU;;oCAAgB;oCAAE,IAAI,KAAK;oCAAC;;;;;;;;;;;;;kCAG9C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,sIAAA,CAAA,UAAS;gCAAC,OAAM;gCAAS,OAAO,IAAI,MAAM;gCAAE,OAAM;;;;;;0CACnD,8OAAC,sIAAA,CAAA,UAAS;gCAAC,OAAM;gCAAM,OAAO,IAAI,QAAQ;gCAAE,OAAM;;;;;;0CAClD,8OAAC,sIAAA,CAAA,UAAS;gCAAC,OAAM;gCAAO,OAAO,IAAI,IAAI;gCAAE,OAAM;;;;;;;;;;;;oBAGhD,uBACC,8OAAC;wBAAE,WAAU;;4BAAgB;0CACjB,8OAAC;gCAAK,WAAU;0CAAa,MAAM,IAAI;;;;;;;;;;;;oBAIpD,IAAI,WAAW,kBAAI,8OAAC;kCAAG,IAAI,WAAW;;;;;;;;;;;;0BAGzC,8OAAC,mJAAA,CAAA,UAAS;gBAAC,YAAY;;kCACrB,8OAAC,qJAAA,CAAA,UAAc;wBAAC,OAAO;wBAAI,cAAc;;;;;;kCACzC,8OAAC,oJAAA,CAAA,UAAa;kCAAC;;;;;;;;;;;;;;;;;;AAIvB","debugId":null}},
    {"offset": {"line": 785, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/app/pet/%5Bid%5D/page.tsx"],"sourcesContent":["import PetInfo from \"@/components/pet/PetInfo\";\n\nexport default function PetPage({ params }: { params: { id: string } }) {\n  return (\n    <div className=\"bg-white min-h-full flex flex-col\">\n      <PetInfo id={params.id} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;;;;;AAEe,SAAS,QAAQ,EAAE,MAAM,EAA8B;IACpE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,oIAAA,CAAA,UAAO;YAAC,IAAI,OAAO,EAAE;;;;;;;;;;;AAG5B","debugId":null}}]
}