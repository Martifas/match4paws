{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/marty/turing/4-module/4-sprint/match4paws/src/hooks/useConversations.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\n\nexport type Conversation = {\n  id: string;\n  petId: string;\n  adopterId: string;\n  ownerId: string;\n  createdAt: string;\n  unread: number;\n  lastSentAt: string | null;\n  lastBody: string | null;\n  thumbUrl: string | null;\n};\n\nexport default function useConversations(pollMs = 15_000) {\n  const [list, setList] = useState<Conversation[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchOnce = useCallback(async () => {\n    try {\n      const res = await fetch('/api/conversations');\n      const json = await res.json();\n      setList(json.conversations);\n      setError(null);\n    } catch {\n      setError('Failed to load conversations');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchOnce();\n    const id = setInterval(fetchOnce, pollMs);\n    return () => clearInterval(id);\n  }, [fetchOnce, pollMs]);\n\n  return { conversations: list, loading, error, refresh: fetchOnce };\n}\n"],"names":[],"mappings":";;;AAEA;AAFA;;AAgBe,SAAS,iBAAiB,SAAS,MAAM;IACtD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC5B,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,QAAQ,KAAK,aAAa;YAC1B,SAAS;QACX,EAAE,OAAM;YACN,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA,MAAM,KAAK,YAAY,WAAW;QAClC,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAW;KAAO;IAEtB,OAAO;QAAE,eAAe;QAAM;QAAS;QAAO,SAAS;IAAU;AACnE","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///home/marty/turing/4-module/4-sprint/match4paws/src/components/chat/Conversations.tsx"],"sourcesContent":["'use client';\nimport { useRouter } from 'next/navigation';\nimport useConversations from '@/hooks/useConversations';\n\nexport default function Conversations() {\n  const router = useRouter();\n  const { conversations, loading, error } = useConversations();\n\n  if (loading) return <p className=\"py-10 text-center\">Loadingâ€¦</p>;\n  if (error) return <p className=\"text-center text-red-500\">{error}</p>;\n  if (!conversations.length)\n    return <p className=\"text-center text-gray-500 py-10\">No messages yet.</p>;\n\n  return (\n    <ul className=\"divide-y flex w-full justify-center mx-auto\">\n      {conversations.map(c => (\n        <li\n          key={c.id}\n          className=\"flex items-center gap-4 p-4 sm:pl-30 hover:bg-gray-50 cursor-pointer w-full border-t border-b border-gray-300\"\n          onClick={() => router.push(`/messages/${c.id}`)}\n        >\n          <img\n            src={c.thumbUrl ?? '/placeholder.png'}\n            alt=\"\"\n            className=\"w-12 h-12 rounded-full object-cover flex-shrink-0\"\n          />\n\n          <div className=\"flex-1\">\n            <p className=\"font-medium line-clamp-1\">\n              {c.lastBody ?? 'New conversation'}\n            </p>\n            <span className=\"text-xs text-gray-500\">\n              {c.lastSentAt ? new Date(c.lastSentAt).toLocaleString() : ''}\n            </span>\n          </div>\n          {c.unread > 0 && (\n            <span className=\"ml-auto bg-orange-500 text-white text-xs px-2 py-1 rounded-full\">\n              {c.unread}\n            </span>\n          )}\n        </li>\n      ))}\n    </ul>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,UAAgB,AAAD;IAEzD,IAAI,SAAS,qBAAO,8OAAC;QAAE,WAAU;kBAAoB;;;;;;IACrD,IAAI,OAAO,qBAAO,8OAAC;QAAE,WAAU;kBAA4B;;;;;;IAC3D,IAAI,CAAC,cAAc,MAAM,EACvB,qBAAO,8OAAC;QAAE,WAAU;kBAAkC;;;;;;IAExD,qBACE,8OAAC;QAAG,WAAU;kBACX,cAAc,GAAG,CAAC,CAAA,kBACjB,8OAAC;gBAEC,WAAU;gBACV,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;;kCAE9C,8OAAC;wBACC,KAAK,EAAE,QAAQ,IAAI;wBACnB,KAAI;wBACJ,WAAU;;;;;;kCAGZ,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CACV,EAAE,QAAQ,IAAI;;;;;;0CAEjB,8OAAC;gCAAK,WAAU;0CACb,EAAE,UAAU,GAAG,IAAI,KAAK,EAAE,UAAU,EAAE,cAAc,KAAK;;;;;;;;;;;;oBAG7D,EAAE,MAAM,GAAG,mBACV,8OAAC;wBAAK,WAAU;kCACb,EAAE,MAAM;;;;;;;eApBR,EAAE,EAAE;;;;;;;;;;AA2BnB","debugId":null}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///home/marty/turing/4-module/4-sprint/match4paws/src/components/ui/containers/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\n\nexport default function Header({\n  left,\n  center,\n  right,\n  children,\n}: {\n  left?: React.ReactNode;\n  center?: React.ReactNode;\n  right?: React.ReactNode;\n  children?: React.ReactNode;\n}) {\n  return (\n    <header className=\"w-full max-w-md mx-auto  md:max-w-xl py-2 flex items-center justify-between gap-4\">\n      {children ? (\n        children\n      ) : (\n        <>\n          <div className=\"flex-shrink-0\">{left}</div>\n          <div className=\"flex-1 text-center overflow-hidden\">{center}</div>\n          <div className=\"flex-shrink-0\">{right}</div>\n        </>\n      )}\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;AAIe,SAAS,OAAO,EAC7B,IAAI,EACJ,MAAM,EACN,KAAK,EACL,QAAQ,EAMT;IACC,qBACE,8OAAC;QAAO,WAAU;kBACf,WACC,yBAEA;;8BACE,8OAAC;oBAAI,WAAU;8BAAiB;;;;;;8BAChC,8OAAC;oBAAI,WAAU;8BAAsC;;;;;;8BACrD,8OAAC;oBAAI,WAAU;8BAAiB;;;;;;;;;;;;;AAK1C","debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///home/marty/turing/4-module/4-sprint/match4paws/src/components/ui/buttons/BackButton.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter, usePathname } from \"next/navigation\";\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\nimport clsx from \"clsx\";\nimport { ComponentPropsWithoutRef } from \"react\";\n\ntype BackButtonProps = {\n  to?: string;\n  hidden?: boolean;\n  className?: string;\n  onClick?: () => void;\n  smartNavigation?: boolean;\n} & Omit<ComponentPropsWithoutRef<\"button\">, \"children\" | \"onClick\">;\n\nexport default function BackButton({\n  to,\n  hidden,\n  className,\n  onClick,\n  smartNavigation = false,\n  ...buttonProps\n}: BackButtonProps) {\n  const router = useRouter();\n  const pathname = usePathname();\n\n  if (hidden) return null;\n\n  const handleClick = () => {\n    if (onClick) {\n      onClick();\n    } else if (to) {\n      router.push(to);\n    } else if (smartNavigation) {\n      const referrer = document.referrer;\n\n      if (referrer.includes(\"/favorites\") || pathname.startsWith(\"/pet/\")) {\n        router.push(\"/favorites?refresh=\" + Date.now());\n      } else {\n        router.back();\n      }\n    } else {\n      router.back();\n    }\n  };\n\n  return (\n    <button\n      type=\"button\"\n      onClick={handleClick}\n      className={clsx(\n        \"text-[#ed9426] hover:text-orange-300 hover:scale-110 font-bold\",\n        className\n      )}\n      {...buttonProps}\n    >\n      <ArrowBackIcon fontSize=\"large\" />\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAee,SAAS,WAAW,EACjC,EAAE,EACF,MAAM,EACN,SAAS,EACT,OAAO,EACP,kBAAkB,KAAK,EACvB,GAAG,aACa;IAChB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,IAAI,QAAQ,OAAO;IAEnB,MAAM,cAAc;QAClB,IAAI,SAAS;YACX;QACF,OAAO,IAAI,IAAI;YACb,OAAO,IAAI,CAAC;QACd,OAAO,IAAI,iBAAiB;YAC1B,MAAM,WAAW,SAAS,QAAQ;YAElC,IAAI,SAAS,QAAQ,CAAC,iBAAiB,SAAS,UAAU,CAAC,UAAU;gBACnE,OAAO,IAAI,CAAC,wBAAwB,KAAK,GAAG;YAC9C,OAAO;gBACL,OAAO,IAAI;YACb;QACF,OAAO;YACL,OAAO,IAAI;QACb;IACF;IAEA,qBACE,8OAAC;QACC,MAAK;QACL,SAAS;QACT,WAAW,CAAA,GAAA,qIAAA,CAAA,UAAI,AAAD,EACZ,kEACA;QAED,GAAG,WAAW;kBAEf,cAAA,8OAAC,8JAAA,CAAA,UAAa;YAAC,UAAS;;;;;;;;;;;AAG9B","debugId":null}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///home/marty/turing/4-module/4-sprint/match4paws/src/app/%28dashboard%29/messages/page.tsx"],"sourcesContent":["'use client';\n\nimport Conversations from '@/components/chat/Conversations';\nimport Header from '@/components/ui/containers/Header';\nimport BackButton from '@/components/ui/buttons/BackButton';\n\nexport default function InboxPage() {\n  return (\n    <div className=\"flex flex-col h-screen bg-white\">\n      <Header\n        left={<BackButton smartNavigation />}\n        center={<h1 className=\"text-lg font-semibold\">Messages</h1>}\n      />\n      <Conversations />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,gJAAA,CAAA,UAAM;gBACL,oBAAM,8OAAC,iJAAA,CAAA,UAAU;oBAAC,eAAe;;;;;;gBACjC,sBAAQ,8OAAC;oBAAG,WAAU;8BAAwB;;;;;;;;;;;0BAEhD,8OAAC,2IAAA,CAAA,UAAa;;;;;;;;;;;AAGpB","debugId":null}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///home/marty/turing/4-module/4-sprint/match4paws/node_modules/%40mui/icons-material/esm/ArrowBack.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z\"\n}), 'ArrowBack');"],"names":[],"mappings":";;;AAEA;AACA;AAHA;;;uCAIe,CAAA,GAAA,kKAAA,CAAA,UAAa,AAAD,EAAE,WAAW,GAAE,CAAA,GAAA,uNAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;IACrD,GAAG;AACL,IAAI","ignoreList":[0],"debugId":null}}]
}