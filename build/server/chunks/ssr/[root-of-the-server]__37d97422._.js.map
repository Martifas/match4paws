{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/pet/PetCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/pet/PetCard.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/pet/PetCard.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/pet/PetCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/pet/PetCard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/pet/PetCard.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/containers/Header.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/containers/Header.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/containers/Header.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA2S,GACxU,yEACA","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/containers/Header.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/containers/Header.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/containers/Header.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuR,GACpT,qDACA","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/buttons/BackButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/buttons/BackButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/buttons/BackButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/buttons/BackButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/buttons/BackButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/buttons/BackButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAwR,GACrT,sDACA","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/buttons/SearchButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/buttons/SearchButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/buttons/SearchButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8S,GAC3U,4EACA","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/ui/buttons/SearchButton.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/buttons/SearchButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/buttons/SearchButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA0R,GACvT,wDACA","debugId":null}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/lib/db.ts"],"sourcesContent":["import \"dotenv/config\";\nimport { Kysely, PostgresDialect, CamelCasePlugin } from \"kysely\";\nimport { Pool } from \"pg\";\nimport { DB } from \"@/database/types\";\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n});\n\nconst dialect = new PostgresDialect({ pool });\n\nexport const db = new Kysely<DB>({\n  dialect,\n  plugins: [new CamelCasePlugin()],\n});\n"],"names":[],"mappings":";;;AAAA;AACA;AAAA;AAAA;AACA;;;;;;;;AAGA,MAAM,OAAO,IAAI,oGAAA,CAAA,OAAI,CAAC;IACpB,kBAAkB,QAAQ,GAAG,CAAC,YAAY;AAC5C;AAEA,MAAM,UAAU,IAAI,mLAAA,CAAA,kBAAe,CAAC;IAAE;AAAK;AAEpC,MAAM,KAAK,IAAI,+IAAA,CAAA,SAAM,CAAK;IAC/B;IACA,SAAS;QAAC,IAAI,2LAAA,CAAA,kBAAe;KAAG;AAClC","debugId":null}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/lib/queries/pets.ts"],"sourcesContent":["import { db } from \"@/lib/db\";\nimport { sql } from \"kysely\";\n\nexport type PetFilters = {\n  type?: string;\n  gender?: string;\n  size?: string;\n  age?: string;\n};\n\nexport type PetSearchResult = {\n  id: string;\n  name: string;\n  ageGroup: string;\n  breed: string | null;\n  size: string;\n  imageUrl: string | null;\n  isFavorite: boolean;\n};\n\nexport async function searchPets(\n  filters: PetFilters\n): Promise<PetSearchResult[]> {\n  let q = db\n    .selectFrom(\"pets\")\n    .select(({ ref }) => [\n      \"pets.id\",\n      \"pets.name\",\n      ref(\"pets.ageGroup\").as(\"ageGroup\"),\n      \"pets.breed\",\n      \"pets.size\",\n      sql<string>`pi.url`.as(\"imageUrl\"),\n      sql<boolean>`CASE WHEN f.pet_id IS NOT NULL THEN true ELSE false END`.as(\n        \"isFavorite\"\n      ),\n    ])\n    .leftJoin(\"petImages as pi\", (j) =>\n      j.onRef(\"pi.petId\", \"=\", \"pets.id\").on(\"pi.orderIdx\", \"=\", 0)\n    )\n    .leftJoin(\"favourites as f\", \"f.petId\", \"pets.id\")\n    .limit(20);\n\n  if (filters.type) q = q.where(\"pets.type\", \"=\", filters.type);\n  if (filters.gender) q = q.where(\"pets.gender\", \"=\", filters.gender);\n  if (filters.size) q = q.where(\"pets.size\", \"=\", filters.size);\n  if (filters.age) q = q.where(\"pets.ageGroup\", \"=\", filters.age);\n\n  return await q.execute();\n}\n\nexport type PetDetails = {\n  id: string;\n  name: string;\n  ageGroup: string;\n  breed: string | null;\n  size: string;\n  gender: string;\n  description: string | null;\n  ownerId: string;\n};\n\nexport type PetPhoto = {\n  url: string;\n};\n\nexport type PetOwner = {\n  name: string;\n};\n\nexport async function getPetById(id: string): Promise<PetDetails | null> {\n  return (\n    (await db\n      .selectFrom(\"pets\")\n      .where(\"pets.id\", \"=\", id)\n      .select([\n        \"id\",\n        \"name\",\n        \"ageGroup\",\n        \"breed\",\n        \"size\",\n        \"gender\",\n        \"description\",\n        \"ownerId\",\n      ])\n      .executeTakeFirst()) || null\n  );\n}\n\nexport async function getPetPhotos(petId: string): Promise<PetPhoto[]> {\n  return await db\n    .selectFrom(\"petImages\")\n    .where(\"petId\", \"=\", petId)\n    .orderBy(\"orderIdx\")\n    .select([\"url\"])\n    .execute();\n}\n\nexport async function getPetOwner(ownerId: string): Promise<PetOwner | null> {\n  return (\n    (await db\n      .selectFrom(\"users\")\n      .where(\"id\", \"=\", ownerId)\n      .select([\"name\"])\n      .executeTakeFirst()) || null\n  );\n}\n\nexport async function isPetFavorited(\n  petId: string,\n  userId: string\n): Promise<boolean> {\n  const result = await db\n    .selectFrom(\"favourites\")\n    .select(\"petId\")\n    .where(\"petId\", \"=\", petId)\n    .where(\"userId\", \"=\", userId)\n    .executeTakeFirst();\n\n  return !!result;\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;;;;AAmBO,eAAe,WACpB,OAAmB;IAEnB,IAAI,IAAI,gHAAA,CAAA,KAAE,CACP,UAAU,CAAC,QACX,MAAM,CAAC,CAAC,EAAE,GAAG,EAAE,GAAK;YACnB;YACA;YACA,IAAI,iBAAiB,EAAE,CAAC;YACxB;YACA;YACA,8JAAA,CAAA,MAAG,AAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;YACvB,8JAAA,CAAA,MAAG,AAAS,CAAC,uDAAuD,CAAC,CAAC,EAAE,CACtE;SAEH,EACA,QAAQ,CAAC,mBAAmB,CAAC,IAC5B,EAAE,KAAK,CAAC,YAAY,KAAK,WAAW,EAAE,CAAC,eAAe,KAAK,IAE5D,QAAQ,CAAC,mBAAmB,WAAW,WACvC,KAAK,CAAC;IAET,IAAI,QAAQ,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,aAAa,KAAK,QAAQ,IAAI;IAC5D,IAAI,QAAQ,MAAM,EAAE,IAAI,EAAE,KAAK,CAAC,eAAe,KAAK,QAAQ,MAAM;IAClE,IAAI,QAAQ,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,aAAa,KAAK,QAAQ,IAAI;IAC5D,IAAI,QAAQ,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC,iBAAiB,KAAK,QAAQ,GAAG;IAE9D,OAAO,MAAM,EAAE,OAAO;AACxB;AAqBO,eAAe,WAAW,EAAU;IACzC,OACE,AAAC,MAAM,gHAAA,CAAA,KAAE,CACN,UAAU,CAAC,QACX,KAAK,CAAC,WAAW,KAAK,IACtB,MAAM,CAAC;QACN;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD,EACA,gBAAgB,MAAO;AAE9B;AAEO,eAAe,aAAa,KAAa;IAC9C,OAAO,MAAM,gHAAA,CAAA,KAAE,CACZ,UAAU,CAAC,aACX,KAAK,CAAC,SAAS,KAAK,OACpB,OAAO,CAAC,YACR,MAAM,CAAC;QAAC;KAAM,EACd,OAAO;AACZ;AAEO,eAAe,YAAY,OAAe;IAC/C,OACE,AAAC,MAAM,gHAAA,CAAA,KAAE,CACN,UAAU,CAAC,SACX,KAAK,CAAC,MAAM,KAAK,SACjB,MAAM,CAAC;QAAC;KAAO,EACf,gBAAgB,MAAO;AAE9B;AAEO,eAAe,eACpB,KAAa,EACb,MAAc;IAEd,MAAM,SAAS,MAAM,gHAAA,CAAA,KAAE,CACpB,UAAU,CAAC,cACX,MAAM,CAAC,SACP,KAAK,CAAC,SAAS,KAAK,OACpB,KAAK,CAAC,UAAU,KAAK,QACrB,gBAAgB;IAEnB,OAAO,CAAC,CAAC;AACX","debugId":null}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/components/search/SearchResults.tsx"],"sourcesContent":["import PetCard from '@/components/pet/PetCard';\nimport Header from '../ui/containers/Header';\nimport BackButton from '../ui/buttons/BackButton';\nimport SearchButton from '../ui/buttons/SearchButton';\nimport { searchPets } from '@/lib/queries/pets';\nimport { PetFilters } from '@/lib/types/pets';\n\nexport default async function SearchResults(filters: PetFilters) {\n  const pets = await searchPets(filters);\n\n  return (\n    <>\n      <Header\n        left={<BackButton />}\n        center={\n          <h1 className=\"text-lg font-semibold tracking-wide select-none\">\n            Search results\n          </h1>\n        }\n        right={<SearchButton />}\n      />\n      {pets.length > 0 && (\n        <div className=\"max-w-xl mx-auto flex\">\n          <div className=\"grid gap-3 md:gap-6 grid-cols-2 lg:grid-cols-3 py-6\">\n            {pets.map(p => (\n              <PetCard\n                key={p.id}\n                id={p.id}\n                name={p.name}\n                age={p.ageGroup}\n                breed={p.breed}\n                size={p.size}\n                imageUrl={p.imageUrl}\n                isFavorite={p.isFavorite}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n      {!pets.length && (\n        <p className=\"text-center text-gray-500 py-10\">\n          No pets match those filters yet.\n        </p>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAGe,eAAe,cAAc,OAAmB;IAC7D,MAAM,OAAO,MAAM,CAAA,GAAA,6HAAA,CAAA,aAAU,AAAD,EAAE;IAE9B,qBACE;;0BACE,8OAAC,gJAAA,CAAA,UAAM;gBACL,oBAAM,8OAAC,iJAAA,CAAA,UAAU;;;;;gBACjB,sBACE,8OAAC;oBAAG,WAAU;8BAAkD;;;;;;gBAIlE,qBAAO,8OAAC,mJAAA,CAAA,UAAY;;;;;;;;;;YAErB,KAAK,MAAM,GAAG,mBACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACZ,KAAK,GAAG,CAAC,CAAA,kBACR,8OAAC,oIAAA,CAAA,UAAO;4BAEN,IAAI,EAAE,EAAE;4BACR,MAAM,EAAE,IAAI;4BACZ,KAAK,EAAE,QAAQ;4BACf,OAAO,EAAE,KAAK;4BACd,MAAM,EAAE,IAAI;4BACZ,UAAU,EAAE,QAAQ;4BACpB,YAAY,EAAE,UAAU;2BAPnB,EAAE,EAAE;;;;;;;;;;;;;;;YAalB,CAAC,KAAK,MAAM,kBACX,8OAAC;gBAAE,WAAU;0BAAkC;;;;;;;;AAMvD","debugId":null}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":["file:///home/mgrumadas/projects/match4paws/src/app/searchresults/page.tsx"],"sourcesContent":["import { Suspense } from 'react';\nimport SearchResults from '@/components/search/SearchResults';\n\nexport default async function SearchResultsPage({\n  searchParams,\n}: {\n  searchParams: Promise<Record<string, string | string[] | undefined>>;\n}) {\n  const resolvedSearchParams = await searchParams;\n\n  const filters = {\n    type: resolvedSearchParams.type as string | undefined,\n    gender: resolvedSearchParams.gender as string | undefined,\n    size: resolvedSearchParams.size as string | undefined,\n    age: resolvedSearchParams.age as string | undefined,\n  };\n\n  return (\n    <>\n      <Suspense fallback={<p className=\"text-center py-10\">Loadingâ€¦</p>}>\n        <SearchResults {...filters} />\n      </Suspense>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;;AAEe,eAAe,kBAAkB,EAC9C,YAAY,EAGb;IACC,MAAM,uBAAuB,MAAM;IAEnC,MAAM,UAAU;QACd,MAAM,qBAAqB,IAAI;QAC/B,QAAQ,qBAAqB,MAAM;QACnC,MAAM,qBAAqB,IAAI;QAC/B,KAAK,qBAAqB,GAAG;IAC/B;IAEA,qBACE;kBACE,cAAA,8OAAC,qMAAA,CAAA,WAAQ;YAAC,wBAAU,8OAAC;gBAAE,WAAU;0BAAoB;;;;;;sBACnD,cAAA,8OAAC,6IAAA,CAAA,UAAa;gBAAE,GAAG,OAAO;;;;;;;;;;;;AAIlC","debugId":null}}]
}