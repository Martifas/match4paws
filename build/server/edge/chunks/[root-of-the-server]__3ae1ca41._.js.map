{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/lib/auth0.ts"],"sourcesContent":["import { Auth0Client } from '@auth0/nextjs-auth0/server';\n\nexport const auth0 = new Auth0Client({\n  domain: process.env.AUTH0_DOMAIN,\n  clientId: process.env.AUTH0_CLIENT_ID,\n  clientSecret: process.env.AUTH0_CLIENT_SECRET,\n  secret: process.env.AUTH0_SECRET,\n  appBaseUrl: process.env.APP_BASE_URL,\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEO,MAAM,QAAQ,IAAI,8KAAA,CAAA,cAAW,CAAC;IACnC,QAAQ,QAAQ,GAAG,CAAC,YAAY;IAChC,UAAU,QAAQ,GAAG,CAAC,eAAe;IACrC,cAAc,QAAQ,GAAG,CAAC,mBAAmB;IAC7C,QAAQ,QAAQ,GAAG,CAAC,YAAY;IAChC,YAAY,QAAQ,GAAG,CAAC,YAAY;AACtC"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\nimport { auth0 } from \"@/lib/auth0\";\n\nconst protectedRoutes = [\n  \"/onboarding\",\n  \"/favorites\",\n  \"/messages\",\n  \"/account\",\n  \"/api/favorites\",\n  \"/api/messages\",\n];\n\nconst isProtected = (pathname: string) =>\n  protectedRoutes.some((p) => pathname.startsWith(p));\n\nexport async function middleware(req: NextRequest) {\n  const res = await auth0.middleware(req);\n\n  if (!isProtected(req.nextUrl.pathname)) return res;\n\n  const session = await auth0.getSession(req);\n\n  if (session) {\n    return res;\n  }\n\n  const login = new URL(\"/auth/login\", req.url);\n  login.searchParams.set(\"returnTo\", req.nextUrl.pathname);\n  return NextResponse.redirect(login);\n}\n\nexport const config = {\n  matcher: [\n    \"/((?!_next/static|_next/image|favicon.ico|robots.txt|sitemap.xml|api/auth).*)\",\n  ],\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAEA;;;AAEA,MAAM,kBAAkB;IACtB;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,cAAc,CAAC,WACnB,gBAAgB,IAAI,CAAC,CAAC,IAAM,SAAS,UAAU,CAAC;AAE3C,eAAe,WAAW,GAAgB;IAC/C,MAAM,MAAM,MAAM,2HAAA,CAAA,QAAK,CAAC,UAAU,CAAC;IAEnC,IAAI,CAAC,YAAY,IAAI,OAAO,CAAC,QAAQ,GAAG,OAAO;IAE/C,MAAM,UAAU,MAAM,2HAAA,CAAA,QAAK,CAAC,UAAU,CAAC;IAEvC,IAAI,SAAS;QACX,OAAO;IACT;IAEA,MAAM,QAAQ,IAAI,IAAI,eAAe,IAAI,GAAG;IAC5C,MAAM,YAAY,CAAC,GAAG,CAAC,YAAY,IAAI,OAAO,CAAC,QAAQ;IACvD,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;AAC/B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;KACD;AACH"}}]
}