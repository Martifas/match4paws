(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296,9305],{154:(e,t,s)=>{Promise.resolve().then(s.bind(s,5241)),Promise.resolve().then(s.bind(s,6816))},5241:(e,t,s)=>{"use strict";s.d(t,{default:()=>j});var a=s(5155),o=s(2115),n=s(2922),i=s(9111),l=s(4581),r=s(3010),u=s(6749),d=s(1746),x=s(2549),c=s(807),h=s(857),p=s(5695),f=s(6768),b=s(7214);function j(){let e=(0,p.usePathname)(),t=(0,p.useRouter)(),s=(0,f.A)(),[j,A]=(0,o.useState)(null),[m,v]=(0,o.useState)(!1),[g,w]=(0,o.useState)(!0),y=["/","/favorites","/messages","/account"],k=Math.max(y.indexOf(e),0);(0,o.useEffect)(()=>{(async()=>{if(!(null==s?void 0:s.id))return w(!1);try{let e=await fetch("/api/user/profile");if(e.ok){let t=await e.json();A(t.user)}}catch(e){console.error("Error fetching user data:",e)}finally{w(!1)}})()},[null==s?void 0:s.id]);let C=async e=>{if(!(await fetch("/api/pets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to add pet");t.push("/")};return!g&&(null==s?void 0:s.id)?(0,a.jsxs)(l.default,{sx:{position:"relative",width:"100%",maxWidth:e=>e.breakpoints.values.md},children:[(0,a.jsxs)(n.A,{showLabels:!0,value:k,onChange:(e,s)=>t.push(y[s]),sx:{width:"100%","& .MuiBottomNavigationAction-root":{...(null==j?void 0:j.userType)==="petOwner"&&{"&:nth-of-type(1), &:nth-of-type(2)":{marginRight:"28px"},"&:nth-of-type(3), &:nth-of-type(4)":{marginLeft:"28px"}}}},children:[(0,a.jsx)(i.A,{label:"Home",icon:(0,a.jsx)(u.A,{})}),(0,a.jsx)(i.A,{label:"Favorites",icon:(0,a.jsx)(d.A,{})}),(0,a.jsx)(i.A,{label:"Messages",icon:(0,a.jsx)(x.A,{})}),(0,a.jsx)(i.A,{label:"Account",icon:(0,a.jsx)(c.A,{})})]}),(null==j?void 0:j.userType)==="petOwner"&&(0,a.jsx)(r.A,{size:"small",color:"primary",onClick:()=>v(!0),sx:{position:"absolute",top:-28,left:"50%",transform:"translateX(-50%)",backgroundColor:"#ed9426","&:hover":{backgroundColor:"#d4841f"},zIndex:1e3,boxShadow:"0 4px 12px rgba(237, 148, 38, 0.4)"},children:(0,a.jsx)(h.A,{})}),(null==j?void 0:j.userType)==="petOwner"&&(0,a.jsx)(b.A,{open:m,onClose:()=>v(!1),onSubmit:C})]}):(0,a.jsx)(l.default,{sx:{width:"100%",maxWidth:e=>e.breakpoints.values.md},children:(0,a.jsxs)(n.A,{showLabels:!0,value:k,onChange:(e,s)=>t.push(y[s]),sx:{width:"100%"},children:[(0,a.jsx)(i.A,{label:"Home",icon:(0,a.jsx)(u.A,{})}),(0,a.jsx)(i.A,{label:"Favorites",icon:(0,a.jsx)(d.A,{})}),(0,a.jsx)(i.A,{label:"Messages",icon:(0,a.jsx)(x.A,{})}),(0,a.jsx)(i.A,{label:"Account",icon:(0,a.jsx)(c.A,{})})]})})}},6816:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var a=s(5155);s(2115);var o=s(2596);function n(e){let{children:t,className:s,alwaysSticky:n=!1}=e;return(0,a.jsx)("div",{className:(0,o.A)("px-4 pt-1 h-14 flex items-center justify-center gap-4 pb-[env(safe-area-inset-bottom)] border-t border-gray-200 bg-white",n?"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-4xl z-30":"lg:static lg:translate-x-0",s),children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6727,5978,8702,9985,3127,8813,9701,4904,8959,3455,4295,8441,1684,7358],()=>t(154)),_N_E=e.O()}]);