(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9138],{2497:(e,t,r)=>{Promise.resolve().then(r.bind(r,3819))},3819:(e,t,r)=>{"use strict";r.d(t,{default:()=>b});var n=r(5155),o=r(5695),i=r(4581),l=r(700),a=r(3648),s=r(807),c=r(5808);let u=[{id:"petManagement",label:"My Pet Management",IconComponent:a.A,route:"/account/petManagement",isDanger:!1},{id:"profile",label:"Edit my profile",IconComponent:s.A,route:"/account/profileManagement",isDanger:!1},{id:"logout",label:"Logout",IconComponent:c.A,isDanger:!0}],d=[{id:"profile",label:"Edit my profile",IconComponent:s.A,route:"/account/profileManagement",isDanger:!1},{id:"logout",label:"Logout",IconComponent:c.A,isDanger:!0}];var h=r(7601),p=r(8407),x=r(2663);function f(e){var t,r;let{user:o,showEmail:i=!0,showUserType:a=!0,avatarSize:s=80}=e;return(0,n.jsxs)(p.A,{sx:{p:3,mb:3,textAlign:"center"},children:[(0,n.jsx)(x.A,{sx:{width:s,height:s,mx:"auto",mb:2,bgcolor:"#ed9426",fontSize:"".concat(s/40,"rem")},children:(null==(r=o.name)||null==(t=r.charAt(0))?void 0:t.toUpperCase())||"U"}),(0,n.jsx)(l.A,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:o.name||"User"}),a&&(0,n.jsx)(l.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(e=>{switch(e){case"petOwner":return"Pet Owner";case"adopter":return"Pet Adopter";default:return"User"}})(o.userType)}),i&&o.email&&(0,n.jsx)(l.A,{variant:"body2",color:"text.secondary",children:o.email})]})}var m=r(9204),g=r(9489),A=r(5222),j=r(3909);function v(e){let{items:t,spacing:r=2,showChevron:o=!0,containerSpacing:l=2}=e;return(0,n.jsx)(i.default,{sx:{mt:l},children:t.map(e=>(0,n.jsx)(p.A,{sx:{mb:r},children:(0,n.jsxs)(m.Ay,{onClick:e.onClick,sx:{cursor:"pointer",py:3,px:3,borderRadius:1,"&:hover":{backgroundColor:"action.hover"},...e.isDanger&&{color:"error.main","&:hover":{backgroundColor:"error.light",color:"error.dark"}}},children:[(0,n.jsx)(g.A,{sx:{color:e.isDanger?"error.main":"inherit",minWidth:40},children:(0,n.jsx)(e.IconComponent,{})}),(0,n.jsx)(A.A,{primary:e.label,primaryTypographyProps:{fontWeight:500}}),o&&!e.isDanger&&(0,n.jsx)(j.A,{color:"action"})]})},e.id))})}var y=r(6598);function b(){let e=(0,o.useRouter)(),{user:t,isLoading:r}=(0,h.A)(),a=async()=>{e.push("/auth/logout")},s=((null==t?void 0:t.userType)==="petOwner"?u:d).map(t=>({...t,onClick:"logout"===t.id?a:()=>e.push(t.route)}));return r?(0,n.jsx)(i.default,{p:3,display:"flex",justifyContent:"center",children:(0,n.jsx)(l.A,{children:"Loading..."})}):t?(0,n.jsxs)(i.default,{sx:{maxWidth:600,mx:"auto",p:2},children:[(0,n.jsx)(y.A,{title:"Account"}),(0,n.jsx)(f,{user:t}),(0,n.jsx)(v,{items:s})]}):(0,n.jsx)(i.default,{p:3,display:"flex",justifyContent:"center",children:(0,n.jsx)(l.A,{children:"Unable to load user profile"})})}},6598:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(5155),o=r(4581),i=r(700);function l(e){let{title:t,subtitle:r,centered:l=!0,marginBottom:a=3}=e;return(0,n.jsxs)(o.default,{textAlign:l?"center":"left",mb:a,children:[(0,n.jsx)(i.A,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:t}),r&&(0,n.jsx)(i.A,{variant:"body1",color:"text.secondary",children:r})]})}},6768:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>a});var n=r(5155),o=r(2115);let i=(0,o.createContext)(null),l=()=>(0,o.useContext)(i);function a(e){let{initialUser:t,children:r}=e;return(0,n.jsx)(i.Provider,{value:t,children:r})}},7601:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(6768),o=r(2115);function i(){let e=(0,n.A)(),[t,r]=(0,o.useState)(null),[i,l]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{(async()=>{if(!(null==e?void 0:e.id))return l(!1);try{let e=await fetch("/api/user/profile");if(e.ok){let t=await e.json();r(t.user)}}catch(e){console.error("Error fetching user data:",e)}finally{l(!1)}})()},[null==e?void 0:e.id]),{user:t,isLoading:i}}}},e=>{var t=t=>e(e.s=t);e.O(0,[6727,5978,9985,4988,8441,1684,7358],()=>t(2497)),_N_E=e.O()}]);