{"/home/marty/turing/4-module/4-sprint/match4paws/src/components/onboarding/OnboardingForm.tsx":{"path":"/home/marty/turing/4-module/4-sprint/match4paws/src/components/onboarding/OnboardingForm.tsx","statementMap":{"0":{"start":{"line":10,"column":17},"end":{"line":14,"column":8}},"1":{"start":{"line":10,"column":39},"end":{"line":14,"column":8}},"2":{"start":{"line":15,"column":19},"end":{"line":15,"column":29}},"3":{"start":{"line":15,"column":25},"end":{"line":15,"column":29}},"4":{"start":{"line":16,"column":14},"end":{"line":35,"column":1}},"5":{"start":{"line":21,"column":24},"end":{"line":21,"column":39}},"6":{"start":{"line":27,"column":24},"end":{"line":27,"column":81}},"7":{"start":{"line":37,"column":26},"end":{"line":37,"column":37}},"8":{"start":{"line":38,"column":26},"end":{"line":38,"column":41}},"9":{"start":{"line":39,"column":17},"end":{"line":39,"column":28}},"10":{"start":{"line":40,"column":26},"end":{"line":42,"column":4}},"11":{"start":{"line":43,"column":17},"end":{"line":43,"column":42}},"12":{"start":{"line":44,"column":24},"end":{"line":44,"column":42}},"13":{"start":{"line":45,"column":16},"end":{"line":45,"column":42}},"14":{"start":{"line":46,"column":19},"end":{"line":46,"column":50}},"15":{"start":{"line":47,"column":15},"end":{"line":56,"column":3}},"16":{"start":{"line":48,"column":4},"end":{"line":48,"column":23}},"17":{"start":{"line":48,"column":16},"end":{"line":48,"column":23}},"18":{"start":{"line":49,"column":4},"end":{"line":55,"column":5}},"19":{"start":{"line":50,"column":6},"end":{"line":50,"column":20}},"20":{"start":{"line":51,"column":6},"end":{"line":51,"column":43}},"21":{"start":{"line":52,"column":6},"end":{"line":52,"column":23}},"22":{"start":{"line":54,"column":6},"end":{"line":54,"column":28}},"23":{"start":{"line":54,"column":21},"end":{"line":54,"column":26}},"24":{"start":{"line":57,"column":2},"end":{"line":113,"column":11}},"25":{"start":{"line":59,"column":78},"end":{"line":59,"column":99}},"26":{"start":{"line":59,"column":93},"end":{"line":59,"column":98}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":17},"end":{"line":10,"column":18}},"loc":{"start":{"line":10,"column":39},"end":{"line":14,"column":8}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":19},"end":{"line":15,"column":20}},"loc":{"start":{"line":15,"column":25},"end":{"line":15,"column":29}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":14},"end":{"line":21,"column":15}},"loc":{"start":{"line":21,"column":24},"end":{"line":21,"column":39}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":27,"column":14},"end":{"line":27,"column":15}},"loc":{"start":{"line":27,"column":24},"end":{"line":27,"column":81}},"line":27},"4":{"name":"OnboardingForm","decl":{"start":{"line":36,"column":24},"end":{"line":36,"column":38}},"loc":{"start":{"line":36,"column":51},"end":{"line":114,"column":1}},"line":36},"5":{"name":"(anonymous_5)","decl":{"start":{"line":47,"column":15},"end":{"line":47,"column":16}},"loc":{"start":{"line":47,"column":27},"end":{"line":56,"column":3}},"line":47},"6":{"name":"(anonymous_6)","decl":{"start":{"line":54,"column":14},"end":{"line":54,"column":15}},"loc":{"start":{"line":54,"column":21},"end":{"line":54,"column":26}},"line":54},"7":{"name":"(anonymous_7)","decl":{"start":{"line":59,"column":72},"end":{"line":59,"column":73}},"loc":{"start":{"line":59,"column":78},"end":{"line":59,"column":99}},"line":59},"8":{"name":"(anonymous_8)","decl":{"start":{"line":59,"column":86},"end":{"line":59,"column":87}},"loc":{"start":{"line":59,"column":93},"end":{"line":59,"column":98}},"line":59}},"branchMap":{"0":{"loc":{"start":{"line":27,"column":24},"end":{"line":27,"column":81}},"type":"binary-expr","locations":[{"start":{"line":27,"column":24},"end":{"line":27,"column":50}},{"start":{"line":27,"column":54},"end":{"line":27,"column":81}}],"line":27},"1":{"loc":{"start":{"line":48,"column":4},"end":{"line":48,"column":23}},"type":"if","locations":[{"start":{"line":48,"column":4},"end":{"line":48,"column":23}},{"start":{},"end":{}}],"line":48},"2":{"loc":{"start":{"line":49,"column":4},"end":{"line":55,"column":5}},"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":55,"column":5}},{"start":{"line":53,"column":11},"end":{"line":55,"column":5}}],"line":49},"3":{"loc":{"start":{"line":104,"column":69},"end":{"line":104,"column":83}},"type":"binary-expr","locations":[{"start":{"line":104,"column":69},"end":{"line":104,"column":75}},{"start":{"line":104,"column":79},"end":{"line":104,"column":83}}],"line":104},"4":{"loc":{"start":{"line":104,"column":95},"end":{"line":104,"column":144}},"type":"cond-expr","locations":[{"start":{"line":104,"column":102},"end":{"line":104,"column":115}},{"start":{"line":104,"column":118},"end":{"line":104,"column":144}}],"line":104},"5":{"loc":{"start":{"line":104,"column":118},"end":{"line":104,"column":144}},"type":"cond-expr","locations":[{"start":{"line":104,"column":127},"end":{"line":104,"column":135}},{"start":{"line":104,"column":138},"end":{"line":104,"column":144}}],"line":104}},"s":{"0":1,"1":2,"2":1,"3":2,"4":1,"5":2,"6":2,"7":6,"8":6,"9":6,"10":6,"11":6,"12":6,"13":6,"14":6,"15":6,"16":3,"17":0,"18":3,"19":1,"20":1,"21":1,"22":2,"23":2,"24":6,"25":0,"26":0},"f":{"0":2,"1":2,"2":2,"3":2,"4":6,"5":3,"6":2,"7":0,"8":0},"b":{"0":[2,1],"1":[0,3],"2":[1,2],"3":[6,4],"4":[1,5],"5":[1,4]},"inputSourceMap":{"version":3,"sources":["/home/marty/turing/4-module/4-sprint/match4paws/src/components/onboarding/OnboardingForm.tsx"],"sourcesContent":["'use client';\n\nimport { Fragment, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport BackButton from '@/components/ui/buttons/BackButton';\nimport PrimaryButton from '@/components/ui/buttons/PrimaryButton';\nimport ProgressBar from '@/components/ui/progressBar/ProgressBar';\nimport { UserTypeStep, PersonalDetailsStep } from './OnboardingSteps';\nimport { submitOnboarding } from '@/lib/utils/onboardingUtils';\nimport { OnboardingFormData } from '@/lib/types/onboarding';\n\nconst DoneStep = () => <Fragment />;\nconst alwaysTrue = () => true;\n\nconst STEPS = [\n  {\n    title: 'Tell us who you are',\n    description: 'Select the role that best describes you.',\n    render: UserTypeStep,\n    validate: (data: OnboardingFormData) => !!data.userType,\n  },\n  {\n    title: 'Your contact details',\n    description: 'So shelters and adopters can reach you.',\n    render: PersonalDetailsStep,\n    validate: (data: OnboardingFormData) =>\n      Boolean(data.name?.trim()) && Boolean(data.phone?.trim()),\n  },\n  {\n    title: 'You are done!',\n    description:\n      'Awesome—you’re all set! Jump in to browse pets, manage your listings, and connect with our community of animal lovers.',\n    render: DoneStep,\n    validate: alwaysTrue,\n  },\n];\n\ntype Props = { userId: string };\n\nexport default function OnboardingForm({ userId }: Props) {\n  const [step, setStep] = useState(0);\n  const [busy, setBusy] = useState(false);\n  const router = useRouter();\n\n  const [form, setForm] = useState<OnboardingFormData>({\n    userType: null,\n  });\n\n  const isLast = step === STEPS.length - 1;\n  const StepComponent = STEPS[step].render;\n  const valid = STEPS[step].validate(form);\n  const progress = ((step + 1) / STEPS.length) * 100;\n\n  const next = async () => {\n    if (!valid) return;\n    if (isLast) {\n      setBusy(true);\n      await submitOnboarding(userId, form);\n      router.push('/');\n    } else {\n      setStep(s => s + 1);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col justify-between flex-1 px-4 py-8\">\n      <div className=\"relative flex items-center justify-center px-8 py-2 min-h-[48px]\">\n        <BackButton hidden={step === 0} onClick={() => setStep(s => s - 1)} />\n        <ProgressBar value={progress} />\n        <span className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium\">\n          {step + 1}/{STEPS.length}\n        </span>\n      </div>\n\n      <div className=\"text-center flex flex-1 flex-col gap-5 justify-center\">\n        <h1 className=\"text-2xl md:text-3xl font-bold text-gray-800 mb-4 leading-tight\">\n          {STEPS[step].title}\n        </h1>\n        <p className=\"text-gray-600 text-lg md:text-xl leading-relaxed\">\n          {STEPS[step].description}\n        </p>\n\n        <StepComponent formData={form} setFormData={setForm} />\n      </div>\n\n      <PrimaryButton onClick={next} disabled={!valid || busy}>\n        {busy ? 'Submitting…' : isLast ? 'Finish' : 'Next'}\n      </PrimaryButton>\n    </div>\n  );\n}\n"],"mappings":";AAWuB;AATvB,SAAS,UAAU,gBAAgB;AACnC,SAAS,iBAAiB;AAC1B,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,SAAS,cAAc,2BAA2B;AAClD,SAAS,wBAAwB;AAGjC,MAAM,WAAW,MAAM,uBAAC,cAAD;AAAA;AAAA;AAAA;AAAA,OAAU;AACjC,MAAM,aAAa,MAAM;AAEzB,MAAM,QAAQ;AAAA,EACZ;AAAA,IACE,OAAO;AAAA,IACP,aAAa;AAAA,IACb,QAAQ;AAAA,IACR,UAAU,CAAC,SAA6B,CAAC,CAAC,KAAK;AAAA,EACjD;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,aAAa;AAAA,IACb,QAAQ;AAAA,IACR,UAAU,CAAC,SACT,QAAQ,KAAK,MAAM,KAAK,CAAC,KAAK,QAAQ,KAAK,OAAO,KAAK,CAAC;AAAA,EAC5D;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,aACE;AAAA,IACF,QAAQ;AAAA,IACR,UAAU;AAAA,EACZ;AACF;AAIA,wBAAwB,eAAe,EAAE,OAAO,GAAU;AACxD,QAAM,CAAC,MAAM,OAAO,IAAI,SAAS,CAAC;AAClC,QAAM,CAAC,MAAM,OAAO,IAAI,SAAS,KAAK;AACtC,QAAM,SAAS,UAAU;AAEzB,QAAM,CAAC,MAAM,OAAO,IAAI,SAA6B;AAAA,IACnD,UAAU;AAAA,EACZ,CAAC;AAED,QAAM,SAAS,SAAS,MAAM,SAAS;AACvC,QAAM,gBAAgB,MAAM,IAAI,EAAE;AAClC,QAAM,QAAQ,MAAM,IAAI,EAAE,SAAS,IAAI;AACvC,QAAM,YAAa,OAAO,KAAK,MAAM,SAAU;AAE/C,QAAM,OAAO,YAAY;AACvB,QAAI,CAAC,MAAO;AACZ,QAAI,QAAQ;AACV,cAAQ,IAAI;AACZ,YAAM,iBAAiB,QAAQ,IAAI;AACnC,aAAO,KAAK,GAAG;AAAA,IACjB,OAAO;AACL,cAAQ,OAAK,IAAI,CAAC;AAAA,IACpB;AAAA,EACF;AAEA,SACE,uBAAC,SAAI,WAAU,kDACb;AAAA,2BAAC,SAAI,WAAU,oEACb;AAAA,6BAAC,cAAW,QAAQ,SAAS,GAAG,SAAS,MAAM,QAAQ,OAAK,IAAI,CAAC,KAAjE;AAAA;AAAA;AAAA;AAAA,aAAoE;AAAA,MACpE,uBAAC,eAAY,OAAO,YAApB;AAAA;AAAA;AAAA;AAAA,aAA8B;AAAA,MAC9B,uBAAC,UAAK,WAAU,uEACb;AAAA,eAAO;AAAA,QAAE;AAAA,QAAE,MAAM;AAAA,WADpB;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,SALF;AAAA;AAAA;AAAA;AAAA,WAMA;AAAA,IAEA,uBAAC,SAAI,WAAU,yDACb;AAAA,6BAAC,QAAG,WAAU,mEACX,gBAAM,IAAI,EAAE,SADf;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,MACA,uBAAC,OAAE,WAAU,oDACV,gBAAM,IAAI,EAAE,eADf;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,MAEA,uBAAC,iBAAc,UAAU,MAAM,aAAa,WAA5C;AAAA;AAAA;AAAA;AAAA,aAAqD;AAAA,SARvD;AAAA;AAAA;AAAA;AAAA,WASA;AAAA,IAEA,uBAAC,iBAAc,SAAS,MAAM,UAAU,CAAC,SAAS,MAC/C,iBAAO,gBAAgB,SAAS,WAAW,UAD9C;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA,OAtBF;AAAA;AAAA;AAAA;AAAA,SAuBA;AAEJ;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5e17b73ec67270de06e7a364d9c0e28286841fdb"}}